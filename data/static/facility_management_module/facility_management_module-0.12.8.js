!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=270)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return PageNames}),__webpack_require__.d(__webpack_exports__,"b",function(){return Modals}),__webpack_require__.d(__webpack_exports__,"f",function(){return notificationTypes}),__webpack_require__.d(__webpack_exports__,"g",function(){return pageNameToModuleMap}),__webpack_require__.d(__webpack_exports__,"e",function(){return TaskTypes}),__webpack_require__.d(__webpack_exports__,"d",function(){return TaskStatuses}),__webpack_require__.d(__webpack_exports__,"a",function(){return CSVGenerationStatuses});var PageNames={CLASS_MGMT_PAGE:"CLASS_MGMT_PAGE",CLASS_EDIT_MGMT_PAGE:"CLASS_EDIT_MGMT_PAGE",CLASS_ENROLL_LEARNER:"CLASS_ENROLL_LEARNER",CLASS_ASSIGN_COACH:"CLASS_ASSIGN_COACH",USER_MGMT_PAGE:"USER_MGMT_PAGE",DATA_EXPORT_PAGE:"DATA_EXPORT_PAGE",FACILITY_CONFIG_PAGE:"FACILITY_CONFIG_PAGE"},Modals={CREATE_CLASS:"CREATE_CLASS",DELETE_CLASS:"DELETE_CLASS",EDIT_CLASS_NAME:"EDIT_CLASS_NAME",REMOVE_USER:"REMOVE_USER",CONFIRM_ENROLLMENT:"CONFIRM_ENROLLMENT",CREATE_USER:"CREATE_USER",EDIT_USER:"EDIT_USER",RESET_USER_PASSWORD:"RESET_USER_PASSWORD",DELETE_USER:"DELETE_USER"},notificationTypes={PAGELOAD_FAILURE:"PAGELOAD_FAILURE",SAVE_FAILURE:"SAVE_FAILURE",SAVE_SUCCESS:"SAVE_SUCCESS"},pageNameToModuleMap={};pageNameToModuleMap[PageNames.CLASS_MGMT_PAGE]="classManagement",pageNameToModuleMap[PageNames.CLASS_EDIT_MGMT_PAGE]="classEditManagement",pageNameToModuleMap[PageNames.CLASS_ASSIGN_COACH]="classAssignMembers",pageNameToModuleMap[PageNames.CLASS_ENROLL_LEARNER]="classAssignMembers",pageNameToModuleMap[PageNames.USER_MGMT_PAGE]="userManagement",pageNameToModuleMap[PageNames.FACILITY_CONFIG_PAGE]="facilityConfig";var TaskTypes={EXPORTSESSIONLOGCSV:"EXPORTSESSIONLOGCSV",EXPORTSUMMARYLOGCSV:"EXPORTSUMMARYLOGCSV"},TaskStatuses={IN_PROGRESS:"INPROGRESS",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",RUNNING:"RUNNING",QUEUED:"QUEUED",SCHEDULED:"SCHEDULED"},CSVGenerationStatuses={NO_LOGS_CREATED:"NOLOGSCREATED",GENERATING:"GENERATING",AVAILABLE:"AVAILABLE"}},function(module,exports){module.exports=kolibriGlobal.coreVue.vuex.constants},function(module,exports){module.exports=kolibriGlobal.lib.vuex},function(module,exports){module.exports=kolibriGlobal.resources},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KModal},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KButton},function(module,exports){module.exports=kolibriGlobal.coreVue.vuex.store},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KIcon},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KTextbox},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(82),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){module.exports=kolibriGlobal.urls},function(module,exports){module.exports=kolibriGlobal.utils.samePageCheckGenerator},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KGrid},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KGridItem},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(140),getValue=__webpack_require__(146);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},function(module,exports){module.exports=function(value){return null!=value&&"object"==typeof value}},function(module,exports){module.exports=kolibriGlobal.lib.vue},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(25),getRawTag=__webpack_require__(142),objectToString=__webpack_require__(143),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports){module.exports=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(81),isLength=__webpack_require__(71);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(223),baseMatchesProperty=__webpack_require__(226),identity=__webpack_require__(27),isArray=__webpack_require__(5),property=__webpack_require__(234);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KLabeledIcon},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KSelect},function(module,exports){module.exports=kolibriGlobal},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(10).Symbol;module.exports=Symbol},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports){module.exports=function(value){return value}},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(182);module.exports=function(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(18),isObjectLike=__webpack_require__(16),symbolTag="[object Symbol]";module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(29),INFINITY=1/0;module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}},function(module,exports){module.exports=kolibriGlobal.lib.conditionalPromise},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(96),baseFilter=__webpack_require__(266),baseIteratee=__webpack_require__(21),isArray=__webpack_require__(5);module.exports=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,baseIteratee(predicate,3))}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(15)(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(151),listCacheDelete=__webpack_require__(152),listCacheGet=__webpack_require__(153),listCacheHas=__webpack_require__(154),listCacheSet=__webpack_require__(155);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(65);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(157);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(98),baseKeys=__webpack_require__(215),isArrayLike=__webpack_require__(20);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(5),isKey=__webpack_require__(76),stringToPath=__webpack_require__(228),toString=__webpack_require__(28);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports){module.exports=kolibriGlobal.coreVue.router},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KRouterLink},function(module,exports){module.exports=kolibriGlobal.coreVue.mixins.themeMixin},function(module,exports){module.exports=kolibriGlobal.coreVue.components.UserTypeDisplay},function(module,exports){module.exports=kolibriGlobal.coreVue.components.CoreTable},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KCheckbox},function(module,exports){module.exports=kolibriGlobal.coreVue.components.UiIconButton},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KFilterTextbox},function(module,exports){module.exports=kolibriGlobal.utils.validators},function(module,exports){module.exports=kolibriGlobal.utils.CatchErrors},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KRadioButton},function(module,exports){module.exports=kolibriGlobal.lib.logging},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(64),setCacheAdd=__webpack_require__(161),setCacheHas=__webpack_require__(162);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(137),mapCacheDelete=__webpack_require__(156),mapCacheGet=__webpack_require__(158),mapCacheHas=__webpack_require__(159),mapCacheSet=__webpack_require__(160);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports){module.exports=function(value,other){return value===other||value!=value&&other!=other}},function(module,exports,__webpack_require__){var Map=__webpack_require__(15)(__webpack_require__(10),"Map");module.exports=Map},function(module,exports){module.exports=function(func){return function(value){return func(value)}}},function(module,exports){module.exports=function(cache,key){return cache.has(key)}},function(module,exports){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(167),isObjectLike=__webpack_require__(16),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}},function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(199),isObjectLike=__webpack_require__(16);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},function(module,exports){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(38),toKey=__webpack_require__(30);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(5),isSymbol=__webpack_require__(29),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}},function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(237),baseEach=__webpack_require__(240)(baseForOwn);module.exports=baseEach},function(module,exports){module.exports=kolibriGlobal.utils.serverClock},function(module,exports,__webpack_require__){var baseUniq=__webpack_require__(249);module.exports=function(array){return array&&array.length?baseUniq(array):[]}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(63),arrayIncludes=__webpack_require__(84),arrayIncludesWith=__webpack_require__(86),arrayMap=__webpack_require__(26),baseUnary=__webpack_require__(67),cacheHas=__webpack_require__(68),LARGE_ARRAY_SIZE=200;module.exports=function(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=LARGE_ARRAY_SIZE&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(18),isObject=__webpack_require__(19),asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(141))},function(module,exports){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(163);module.exports=function(array,value){return!(null==array||!array.length)&&baseIndexOf(array,value,0)>-1}},function(module,exports){module.exports=function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},function(module,exports){module.exports=function(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(69),isFlattenable=__webpack_require__(166);module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},function(module,exports,__webpack_require__){var identity=__webpack_require__(27),overRest=__webpack_require__(168),setToString=__webpack_require__(170);module.exports=function(func,start){return setToString(overRest(func,start,identity),func+"")}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(15),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(20),isObjectLike=__webpack_require__(16);module.exports=function(value){return isObjectLike(value)&&isArrayLike(value)}},function(module,exports){var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function(string){return reHasUnicode.test(string)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(34),stackClear=__webpack_require__(200),stackDelete=__webpack_require__(201),stackGet=__webpack_require__(202),stackHas=__webpack_require__(203),stackSet=__webpack_require__(204);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(63),arraySome=__webpack_require__(205),cacheHas=__webpack_require__(68),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(69),isArray=__webpack_require__(5);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(96),stubArray=__webpack_require__(97),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray;module.exports=getSymbols},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},function(module,exports){module.exports=function(){return[]}},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(211),isArguments=__webpack_require__(70),isArray=__webpack_require__(5),isBuffer=__webpack_require__(99),isIndex=__webpack_require__(74),isTypedArray=__webpack_require__(101),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(10),stubFalse=__webpack_require__(212),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(100)(module))},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(213),baseUnary=__webpack_require__(67),nodeUtil=__webpack_require__(214),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},function(module,exports){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},function(module,exports,__webpack_require__){var Set=__webpack_require__(15)(__webpack_require__(10),"Set");module.exports=Set},function(module,exports,__webpack_require__){var isObject=__webpack_require__(19);module.exports=function(value){return value==value&&!isObject(value)}},function(module,exports){module.exports=function(key,srcValue){return function(object){return null!=object&&object[key]===srcValue&&(void 0!==srcValue||key in Object(object))}}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(77),isArrayLike=__webpack_require__(20);module.exports=function(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}},function(module,exports,__webpack_require__){var getPrototype=__webpack_require__(103)(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports){module.exports=kolibriGlobal.coreVue.components.CoreBase},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KPageContainer},function(module,exports,__webpack_require__){var baseDifference=__webpack_require__(80),baseFlatten=__webpack_require__(87),baseRest=__webpack_require__(88),isArrayLikeObject=__webpack_require__(90),difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]});module.exports=difference},function(module,exports,__webpack_require__){var baseDifference=__webpack_require__(80),baseFlatten=__webpack_require__(87),baseRest=__webpack_require__(88),isArrayLikeObject=__webpack_require__(90),last=__webpack_require__(177),differenceWith=baseRest(function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=void 0),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),void 0,comparator):[]});module.exports=differenceWith},function(module,exports){module.exports=kolibriGlobal.coreVue.mixins.responsiveWindow},function(module,exports){module.exports=kolibriGlobal.utils.i18n},function(module,exports){module.exports=kolibriGlobal.utils.browser},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KCircularLoader},function(module,exports,__webpack_require__){var capitalize=__webpack_require__(181),camelCase=__webpack_require__(190)(function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)});module.exports=camelCase},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(72);module.exports=function(value,other){return baseIsEqual(value,other)}},function(module,exports){module.exports=kolibriGlobal.coreVue.components.UiAlert},function(module,exports,__webpack_require__){var baseOrderBy=__webpack_require__(222),isArray=__webpack_require__(5);module.exports=function(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?void 0:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))}},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KTooltip},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KEmptyPlaceholder},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KNavbar},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KNavbarLink},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KDropdownMenu},function(module,exports){module.exports=kolibriGlobal.coreVue.components.KExternalLink},function(module,exports){module.exports=kolibriGlobal.utils.UserType},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(26),baseIteratee=__webpack_require__(21),basePickBy=__webpack_require__(252),getAllKeysIn=__webpack_require__(256);module.exports=function(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});return predicate=baseIteratee(predicate),basePickBy(object,props,function(value,path){return predicate(value,path[0])})}},function(module,exports,__webpack_require__){var find=__webpack_require__(261)(__webpack_require__(262));module.exports=find},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(26),baseIteratee=__webpack_require__(21),baseMap=__webpack_require__(107),isArray=__webpack_require__(5);module.exports=function(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,baseIteratee(iteratee,3))}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(__filename){var kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(62),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0__),lodash_filter__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(32),lodash_filter__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_1__),kolibri_resources__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),kolibri_client__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(132),kolibri_client__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(kolibri_client__WEBPACK_IMPORTED_MODULE_3__),kolibri_urls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),kolibri_urls__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(kolibri_urls__WEBPACK_IMPORTED_MODULE_4__),_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),logging=kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0___default.a.getLogger(__filename);function startCSVExport(store,logtype,creating,commitStart){var params={logtype:logtype};if(!creating)return kolibri_resources__WEBPACK_IMPORTED_MODULE_2__.TaskResource.startexportlogcsv(params).then(function(task){return store.commit(commitStart,task.entity.id),task.entity.id})}function checkTaskStatus(store,newTasks,taskType,taskId,commitStart,commitFinish){if(taskId){var completed=lodash_filter__WEBPACK_IMPORTED_MODULE_1___default()(newTasks,{id:taskId});if(completed.length>0)completed[0].status===_constants__WEBPACK_IMPORTED_MODULE_5__.d.COMPLETED&&(store.commit(commitFinish,new Date),kolibri_resources__WEBPACK_IMPORTED_MODULE_2__.TaskResource.deleteFinishedTasks())}else{var running=lodash_filter__WEBPACK_IMPORTED_MODULE_1___default()(newTasks,function(task){return task.type===taskType&&task.status!==_constants__WEBPACK_IMPORTED_MODULE_5__.d.COMPLETED&&task.status!==_constants__WEBPACK_IMPORTED_MODULE_5__.d.FAILED});running.length>0&&store.commit(commitStart,running[0].id)}}__webpack_exports__.a={refreshTaskList:function(store){return kolibri_resources__WEBPACK_IMPORTED_MODULE_2__.TaskResource.fetchCollection({force:!0}).then(function(newTasks){checkTaskStatus(store,newTasks,_constants__WEBPACK_IMPORTED_MODULE_5__.e.EXPORTSESSIONLOGCSV,store.getters.sessionTaskId,"START_SESSION_CSV_EXPORT","SET_FINISHED_SESSION_CSV_CREATION"),checkTaskStatus(store,newTasks,_constants__WEBPACK_IMPORTED_MODULE_5__.e.EXPORTSUMMARYLOGCSV,store.getters.summaryTaskId,"START_SUMMARY_CSV_EXPORT","SET_FINISHED_SUMMARY_CSV_CREATION")}).catch(function(error){logging.error("There was an error while fetching the task list: ",error)})},startSummaryCSVExport:function(store){return startCSVExport(store,"summary",store.getters.inSummaryCSVCreation,"START_SUMMARY_CSV_EXPORT")},startSessionCSVExport:function(store){return startCSVExport(store,"session",store.getters.inSessionCSVCreation,"START_SESSION_CSV_EXPORT")},getExportedLogsInfo:function(store){return kolibri_client__WEBPACK_IMPORTED_MODULE_3___default()({path:kolibri_urls__WEBPACK_IMPORTED_MODULE_4___default.a["kolibri:core:exportedlogsinfo"]()}).then(function(response){var data=response.entity,sessionTimeStamp=null;null!=data.session&&(sessionTimeStamp=new Date(1e3*data.session),store.commit("SET_FINISHED_SESSION_CSV_CREATION",sessionTimeStamp));var summaryTimeStamp=null;null!=data.summary&&(summaryTimeStamp=new Date(1e3*data.summary),store.commit("SET_FINISHED_SUMMARY_CSV_CREATION",summaryTimeStamp))})}}}).call(this,"kolibri/plugins/facility_management/assets/src/modules/manageCSV/actions.js")},function(module,exports){module.exports=kolibriGlobal.client},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(__filename){var lodash_forEach__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(134),lodash_forEach__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_forEach__WEBPACK_IMPORTED_MODULE_0__),kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(269),__webpack_require__(51)),kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_2__),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(62),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_3__),kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(17),kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_4__),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_5__),kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(135),kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_6__),kolibri_module__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(136),KolibriApp=(kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_3___default.a.getLogger(__filename),function(KolibriModule){function KolibriApp(){KolibriModule.apply(this,arguments)}KolibriModule&&(KolibriApp.__proto__=KolibriModule),KolibriApp.prototype=Object.create(KolibriModule&&KolibriModule.prototype),KolibriApp.prototype.constructor=KolibriApp;var prototypeAccessors={routes:{configurable:!0},RootVue:{configurable:!0},store:{configurable:!0},stateSetters:{configurable:!0},pluginModule:{configurable:!0}};return prototypeAccessors.routes.get=function(){return[]},prototypeAccessors.RootVue.get=function(){return{}},prototypeAccessors.store.get=function(){return kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_5___default.a},prototypeAccessors.stateSetters.get=function(){return[]},prototypeAccessors.pluginModule.get=function(){return{}},KolibriApp.prototype.ready=function(){var this$1=this;return this.store.hotUpdate({actions:this.pluginModule.actions||{},getters:this.pluginModule.getters||{},mutations:this.pluginModule.mutations||{}}),this.store.replaceState(Object.assign({},this.store.state,this.pluginModule.state)),lodash_forEach__WEBPACK_IMPORTED_MODULE_0___default()(this.pluginModule.modules,function(module,name){kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_5___default.a.registerModule(name,module)}),kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_6___default.a.startPolling().then(function(){return this$1.store.dispatch("getNotifications"),Promise.all([].concat(this$1.stateSetters.map(function(setter){return setter(this$1.store)}))).then(function(){this$1.rootvue=new kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_4___default.a(Object.assign({el:"rootvue",store:kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_5___default.a,router:kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_2___default.a.init(this$1.routes)},this$1.RootVue))})})},Object.defineProperties(KolibriApp.prototype,prototypeAccessors),KolibriApp}(kolibri_module__WEBPACK_IMPORTED_MODULE_7__.a));__webpack_exports__.a=KolibriApp}).call(this,"kolibri/core/assets/src/kolibri_app.js")},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(267),baseEach=__webpack_require__(77),castFunction=__webpack_require__(268),isArray=__webpack_require__(5);module.exports=function(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},function(module,exports){module.exports=kolibriGlobal.heartbeat},function(module,__webpack_exports__,__webpack_require__){"use strict";var urls,external_kolibriGlobal_=__webpack_require__(24),external_kolibriGlobal_default=__webpack_require__.n(external_kolibriGlobal_),external_kolibriGlobal_urls_=__webpack_require__(11);urls=__webpack_require__.n(external_kolibriGlobal_urls_).a,__webpack_require__.p=urls.static("facility_management_module/");var KolibriModule=function(options){for(var ref,args=[],len=arguments.length-1;len-- >0;)args[len]=arguments[len+1];this.name="facility_management_module";var safeOptions={};this.kolibriModuleOptions.forEach(function(option){options[option]&&(safeOptions[option]=options[option])}),Object.assign(this,safeOptions),(ref=this).initialize.apply(ref,[options].concat(args)),this._registerKolibriModule()},prototypeAccessors={kolibriModuleOptions:{configurable:!0},Kolibri:{configurable:!0}};prototypeAccessors.kolibriModuleOptions.get=function(){return[]},KolibriModule.prototype._registerKolibriModule=function(){external_kolibriGlobal_default.a.registerKolibriModuleSync(this)},KolibriModule.prototype.initialize=function(){},KolibriModule.prototype.ready=function(){},KolibriModule.prototype.stopListening=function(event,method){external_kolibriGlobal_default.a.stopListening(event,this,method)},KolibriModule.prototype.emit=function(){for(var args=[],len=arguments.length;len--;)args[len]=arguments[len];external_kolibriGlobal_default.a.emit.apply(external_kolibriGlobal_default.a,args)},prototypeAccessors.Kolibri.get=function(){return external_kolibriGlobal_default.a},Object.defineProperties(KolibriModule.prototype,prototypeAccessors);__webpack_exports__.a=KolibriModule},function(module,exports,__webpack_require__){var Hash=__webpack_require__(138),ListCache=__webpack_require__(34),Map=__webpack_require__(66);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(139),hashDelete=__webpack_require__(147),hashGet=__webpack_require__(148),hashHas=__webpack_require__(149),hashSet=__webpack_require__(150);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(33);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(81),isMasked=__webpack_require__(144),isObject=__webpack_require__(19),toSource=__webpack_require__(83),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(25),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__(145),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(10)["__core-js_shared__"];module.exports=coreJsData},function(module,exports){module.exports=function(object,key){return null==object?void 0:object[key]}},function(module,exports){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(33),HASH_UNDEFINED="__lodash_hash_undefined__",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(33),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(33),HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}},function(module,exports){module.exports=function(){this.__data__=[],this.size=0}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(35),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0||(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,0))}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(35);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(35);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(35);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(36);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},function(module,exports){module.exports=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(36);module.exports=function(key){return getMapData(this,key).get(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(36);module.exports=function(key){return getMapData(this,key).has(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(36);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},function(module,exports){var HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=function(value){return this.__data__.set(value,HASH_UNDEFINED),this}},function(module,exports){module.exports=function(value){return this.__data__.has(value)}},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(85),baseIsNaN=__webpack_require__(164),strictIndexOf=__webpack_require__(165);module.exports=function(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},function(module,exports){module.exports=function(value){return value!=value}},function(module,exports){module.exports=function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(25),isArguments=__webpack_require__(70),isArray=__webpack_require__(5),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(18),isObjectLike=__webpack_require__(16),argsTag="[object Arguments]";module.exports=function(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}},function(module,exports,__webpack_require__){var apply=__webpack_require__(169),nativeMax=Math.max;module.exports=function(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},function(module,exports){module.exports=function(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(171),setToString=__webpack_require__(173)(baseSetToString);module.exports=setToString},function(module,exports,__webpack_require__){var constant=__webpack_require__(172),defineProperty=__webpack_require__(89),identity=__webpack_require__(27),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},function(module,exports){module.exports=function(value){return function(){return value}}},function(module,exports){var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;module.exports=function(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserTable_vue_vue_type_style_index_0_id_78e2f210_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserTable_vue_vue_type_style_index_0_id_78e2f210_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserRemoveConfirmationModal_vue_vue_type_style_index_0_id_5a64a8ce_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserRemoveConfirmationModal_vue_vue_type_style_index_0_id_5a64a8ce_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_f4ab9b50_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(41);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_f4ab9b50_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports){module.exports=function(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ClassEnrollForm_vue_vue_type_style_index_0_id_2f6ff2f8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(42);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ClassEnrollForm_vue_vue_type_style_index_0_id_2f6ff2f8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DataPageTaskProgress_vue_vue_type_style_index_0_id_b688e844_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DataPageTaskProgress_vue_vue_type_style_index_0_id_b688e844_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_5bc318cf_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_5bc318cf_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var toString=__webpack_require__(28),upperFirst=__webpack_require__(183);module.exports=function(string){return upperFirst(toString(string).toLowerCase())}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(25),arrayMap=__webpack_require__(26),isArray=__webpack_require__(5),isSymbol=__webpack_require__(29),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}},function(module,exports,__webpack_require__){var upperFirst=__webpack_require__(184)("toUpperCase");module.exports=upperFirst},function(module,exports,__webpack_require__){var castSlice=__webpack_require__(185),hasUnicode=__webpack_require__(91),stringToArray=__webpack_require__(187),toString=__webpack_require__(28);module.exports=function(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}},function(module,exports,__webpack_require__){var baseSlice=__webpack_require__(186);module.exports=function(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}},function(module,exports){module.exports=function(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},function(module,exports,__webpack_require__){var asciiToArray=__webpack_require__(188),hasUnicode=__webpack_require__(91),unicodeToArray=__webpack_require__(189);module.exports=function(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}},function(module,exports){module.exports=function(string){return string.split("")}},function(module,exports){var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function(string){return string.match(reUnicode)||[]}},function(module,exports,__webpack_require__){var arrayReduce=__webpack_require__(191),deburr=__webpack_require__(192),words=__webpack_require__(195),reApos=RegExp("['’]","g");module.exports=function(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}},function(module,exports){module.exports=function(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__(193),toString=__webpack_require__(28),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reComboMark=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");module.exports=function(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}},function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__(194)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});module.exports=deburrLetter},function(module,exports){module.exports=function(object){return function(key){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var asciiWords=__webpack_require__(196),hasUnicodeWord=__webpack_require__(197),toString=__webpack_require__(28),unicodeWords=__webpack_require__(198);module.exports=function(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}},function(module,exports){var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;module.exports=function(string){return string.match(reAsciiWord)||[]}},function(module,exports){var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;module.exports=function(string){return reHasUnicodeWord.test(string)}},function(module,exports){var rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g");module.exports=function(string){return string.match(reUnicodeWord)||[]}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(92),equalArrays=__webpack_require__(93),equalByTag=__webpack_require__(206),equalObjects=__webpack_require__(209),getTag=__webpack_require__(217),isArray=__webpack_require__(5),isBuffer=__webpack_require__(99),isTypedArray=__webpack_require__(101),COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(34);module.exports=function(){this.__data__=new ListCache,this.size=0}},function(module,exports){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},function(module,exports){module.exports=function(key){return this.__data__.get(key)}},function(module,exports){module.exports=function(key){return this.__data__.has(key)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(34),Map=__webpack_require__(66),MapCache=__webpack_require__(64),LARGE_ARRAY_SIZE=200;module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(25),Uint8Array=__webpack_require__(207),eq=__webpack_require__(65),equalArrays=__webpack_require__(93),mapToArray=__webpack_require__(208),setToArray=__webpack_require__(73),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(10).Uint8Array;module.exports=Uint8Array},function(module,exports){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}},function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(210),COMPARE_PARTIAL_FLAG=1,hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(94),getSymbols=__webpack_require__(95),keys=__webpack_require__(37);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},function(module,exports){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},function(module,exports){module.exports=function(){return!1}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(18),isLength=__webpack_require__(71),isObjectLike=__webpack_require__(16),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(82),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(100)(module))},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(102),nativeKeys=__webpack_require__(216),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},function(module,exports,__webpack_require__){var nativeKeys=__webpack_require__(103)(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){var DataView=__webpack_require__(218),Map=__webpack_require__(66),Promise=__webpack_require__(219),Set=__webpack_require__(104),WeakMap=__webpack_require__(220),baseGetTag=__webpack_require__(18),toSource=__webpack_require__(83),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},function(module,exports,__webpack_require__){var DataView=__webpack_require__(15)(__webpack_require__(10),"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var Promise=__webpack_require__(15)(__webpack_require__(10),"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(15)(__webpack_require__(10),"WeakMap");module.exports=WeakMap},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_2aae3dce_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_2aae3dce_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(26),baseIteratee=__webpack_require__(21),baseMap=__webpack_require__(107),baseSortBy=__webpack_require__(241),baseUnary=__webpack_require__(67),compareMultiple=__webpack_require__(242),identity=__webpack_require__(27);module.exports=function(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(baseIteratee));var result=baseMap(collection,function(value,key,collection){return{criteria:arrayMap(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}},function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(224),getMatchData=__webpack_require__(225),matchesStrictComparable=__webpack_require__(106);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(92),baseIsEqual=__webpack_require__(72),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return!1}}return!0}},function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(105),keys=__webpack_require__(37);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(72),get=__webpack_require__(227),hasIn=__webpack_require__(231),isKey=__webpack_require__(76),isStrictComparable=__webpack_require__(105),matchesStrictComparable=__webpack_require__(106),toKey=__webpack_require__(30),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(75);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(229),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result});module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(230),MAX_MEMOIZE_SIZE=500;module.exports=function(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(64),FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__(232),hasPath=__webpack_require__(233);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},function(module,exports){module.exports=function(object,key){return null!=object&&key in Object(object)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(38),isArguments=__webpack_require__(70),isArray=__webpack_require__(5),isIndex=__webpack_require__(74),isLength=__webpack_require__(71),toKey=__webpack_require__(30);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(235),basePropertyDeep=__webpack_require__(236),isKey=__webpack_require__(76),toKey=__webpack_require__(30);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},function(module,exports){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(75);module.exports=function(path){return function(object){return baseGet(object,path)}}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(238),keys=__webpack_require__(37);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(239)();module.exports=baseFor},function(module,exports){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(20);module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},function(module,exports){module.exports=function(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}},function(module,exports,__webpack_require__){var compareAscending=__webpack_require__(243);module.exports=function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(29);module.exports=function(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ClassDeleteModal_vue_vue_type_style_index_0_id_36e860c4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ClassDeleteModal_vue_vue_type_style_index_0_id_36e860c4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_54823181_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_54823181_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserCreateModal_vue_vue_type_style_index_0_id_8dcf87d4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserCreateModal_vue_vue_type_style_index_0_id_8dcf87d4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_EditUserModal_vue_vue_type_style_index_0_id_e30e3a9a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_EditUserModal_vue_vue_type_style_index_0_id_e30e3a9a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_da0ccd26_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_lib_loader_js_ref_4_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_da0ccd26_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(63),arrayIncludes=__webpack_require__(84),arrayIncludesWith=__webpack_require__(86),cacheHas=__webpack_require__(68),createSet=__webpack_require__(250),setToArray=__webpack_require__(73),LARGE_ARRAY_SIZE=200;module.exports=function(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},function(module,exports,__webpack_require__){var Set=__webpack_require__(104),noop=__webpack_require__(251),setToArray=__webpack_require__(73),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(75),baseSet=__webpack_require__(253),castPath=__webpack_require__(38);module.exports=function(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(254),castPath=__webpack_require__(38),isIndex=__webpack_require__(74),isObject=__webpack_require__(19),toKey=__webpack_require__(30);module.exports=function(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(255),eq=__webpack_require__(65),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(89);module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(94),getSymbolsIn=__webpack_require__(257),keysIn=__webpack_require__(258);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(69),getPrototype=__webpack_require__(108),getSymbols=__webpack_require__(95),stubArray=__webpack_require__(97),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(98),baseKeysIn=__webpack_require__(259),isArrayLike=__webpack_require__(20);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(19),isPrototype=__webpack_require__(102),nativeKeysIn=__webpack_require__(260),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},function(module,exports){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(21),isArrayLike=__webpack_require__(20),keys=__webpack_require__(37);module.exports=function(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(85),baseIteratee=__webpack_require__(21),toInteger=__webpack_require__(263),nativeMax=Math.max;module.exports=function(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,baseIteratee(predicate,3),index)}},function(module,exports,__webpack_require__){var toFinite=__webpack_require__(264);module.exports=function(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}},function(module,exports,__webpack_require__){var toNumber=__webpack_require__(265),INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308;module.exports=function(value){return value?(value=toNumber(value))===INFINITY||value===-INFINITY?(value<0?-1:1)*MAX_INTEGER:value==value?value:0:0===value?value:0}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(19),isSymbol=__webpack_require__(29),NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(77);module.exports=function(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},function(module,exports,__webpack_require__){var identity=__webpack_require__(27);module.exports=function(value){return"function"==typeof value?value:identity}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(18),getPrototype=__webpack_require__(108),isObjectLike=__webpack_require__(16),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var userManagement_actions_namespaceObject={};__webpack_require__.r(userManagement_actions_namespaceObject),__webpack_require__.d(userManagement_actions_namespaceObject,"createUser",function(){return createUser}),__webpack_require__.d(userManagement_actions_namespaceObject,"updateUser",function(){return updateUser}),__webpack_require__.d(userManagement_actions_namespaceObject,"setError",function(){return setError}),__webpack_require__.d(userManagement_actions_namespaceObject,"updateFacilityUser",function(){return updateFacilityUser}),__webpack_require__.d(userManagement_actions_namespaceObject,"deleteUser",function(){return deleteUser});var external_kolibriGlobal_coreVue_router_=__webpack_require__(51),external_kolibriGlobal_coreVue_router_default=__webpack_require__.n(external_kolibriGlobal_coreVue_router_),external_kolibriGlobal_lib_vuex_=__webpack_require__(2),external_kolibriGlobal_coreVue_components_CoreBase_=__webpack_require__(109),external_kolibriGlobal_coreVue_components_CoreBase_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_CoreBase_),external_kolibriGlobal_coreVue_components_KPageContainer_=__webpack_require__(110),external_kolibriGlobal_coreVue_components_KPageContainer_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KPageContainer_),constants=__webpack_require__(0),external_kolibriGlobal_coreVue_components_KRouterLink_=__webpack_require__(52),external_kolibriGlobal_coreVue_components_KRouterLink_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KRouterLink_),external_kolibriGlobal_coreVue_components_KButton_=__webpack_require__(6),external_kolibriGlobal_coreVue_components_KButton_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KButton_),external_kolibriGlobal_coreVue_components_KGrid_=__webpack_require__(13),external_kolibriGlobal_coreVue_components_KGrid_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KGrid_),external_kolibriGlobal_coreVue_components_KGridItem_=__webpack_require__(14),external_kolibriGlobal_coreVue_components_KGridItem_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KGridItem_),external_kolibriGlobal_coreVue_components_KIcon_=__webpack_require__(8),external_kolibriGlobal_coreVue_components_KIcon_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KIcon_),external_kolibriGlobal_coreVue_components_KLabeledIcon_=__webpack_require__(22),external_kolibriGlobal_coreVue_components_KLabeledIcon_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KLabeledIcon_),external_kolibriGlobal_coreVue_mixins_themeMixin_=__webpack_require__(53),external_kolibriGlobal_coreVue_mixins_themeMixin_default=__webpack_require__.n(external_kolibriGlobal_coreVue_mixins_themeMixin_),external_kolibriGlobal_coreVue_components_UserTypeDisplay_=__webpack_require__(54),external_kolibriGlobal_coreVue_components_UserTypeDisplay_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_UserTypeDisplay_),external_kolibriGlobal_coreVue_components_CoreTable_=__webpack_require__(55),external_kolibriGlobal_coreVue_components_CoreTable_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_CoreTable_),external_kolibriGlobal_coreVue_components_KCheckbox_=__webpack_require__(56),external_kolibriGlobal_coreVue_components_KCheckbox_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KCheckbox_),difference=__webpack_require__(111),difference_default=__webpack_require__.n(difference),views_UserTablevue_type_script_lang_js_={name:"UserTable",components:{CoreTable:external_kolibriGlobal_coreVue_components_CoreTable_default.a,KCheckbox:external_kolibriGlobal_coreVue_components_KCheckbox_default.a,UserTypeDisplay:external_kolibriGlobal_coreVue_components_UserTypeDisplay_default.a,KLabeledIcon:external_kolibriGlobal_coreVue_components_KLabeledIcon_default.a,KIcon:external_kolibriGlobal_coreVue_components_KIcon_default.a},mixins:[external_kolibriGlobal_coreVue_mixins_themeMixin_default.a],props:{users:{type:Array,required:!0},emptyMessage:{type:String},selectable:{type:Boolean,default:!1},selectAllLabel:{type:String},userCheckboxLabel:{type:String},value:{type:Array,default:null},isCoach:{type:Boolean,default:!1},infoDescriptor:{type:String,default:""}},computed:{allAreSelected:function(){var this$1=this;return Boolean(this.users.length)&&this.users.every(function(user){return this$1.value.includes(user.id)})}},methods:{userIsSelected:function(id){return this.value.includes(id)},selectAll:function(checked){var currentUsers=this.users.map(function(user){return user.id});return checked?this.$emit("input",this.value.concat(currentUsers)):this.$emit("input",difference_default()(this.value,currentUsers))},selectUser:function(id,checked){var selected=Array.from(this.value);return checked?(selected.push(id),this.$emit("input",selected)):this.$emit("input",selected.filter(function(selectedId){return selectedId!==id}))}},$trs:{coachTableTitle:"Coaches",learnerTableTitle:"Learners",fullName:"Full name",username:"Username",role:"Role",userIconColumnHeader:"User icon",userActionsColumnHeader:"Actions",remove:"Remove",noUsersExist:"No users in this class"}};__webpack_require__(174);function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,this.$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options:options}}var UserTable=normalizeComponent(views_UserTablevue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("CoreTable",[_c("thead",{attrs:{slot:"thead"},slot:"thead"},[_c("tr",[_vm.selectable?_c("th",{staticClass:"core-table-checkbox-col select-all"},[_c("KCheckbox",{staticClass:"overflow-label",attrs:{label:_vm.selectAllLabel,showLabel:!0,checked:_vm.allAreSelected,disabled:0===_vm.users.length},on:{change:function($event){return _vm.selectAll($event)}}})],1):_vm._e(),_c("th",[_c("span",{class:{visuallyhidden:_vm.selectable}},[_vm._v("\n            "+_vm._s(_vm.$tr("fullName"))+"\n          ")])]),_c("th",[_c("span",{staticClass:"visuallyhidden"},[_vm._v("\n            "+_vm._s(_vm.$tr("role"))+"\n          ")])]),_c("th",[_vm._v(_vm._s(_vm.$tr("username")))]),_vm.$scopedSlots.info?_c("th",[_vm._v("\n          "+_vm._s(_vm.infoDescriptor)+"\n        ")]):_vm._e(),_vm.$scopedSlots.action?_c("th",{staticClass:"user-action-button"},[_c("span",{staticClass:"visuallyhidden"},[_vm._v("\n            "+_vm._s(_vm.$tr("userActionsColumnHeader"))+"\n          ")])]):_vm._e()])]),_c("tbody",{attrs:{slot:"tbody"},slot:"tbody"},_vm._l(_vm.users,function(user){return _c("tr",{key:user.id},[_vm.selectable?_c("td",{staticClass:"core-table-checkbox-col"},[_c("KCheckbox",{attrs:{label:_vm.userCheckboxLabel,showLabel:!1,checked:_vm.userIsSelected(user.id)},on:{change:function($event){return _vm.selectUser(user.id,$event)}}})],1):_vm._e(),_c("td",[_c("span",{attrs:{dir:"auto"}},[_c("KLabeledIcon",[_c("KIcon",{attrs:{slot:"icon",coach:_vm.isCoach,person:!_vm.isCoach},slot:"icon"}),_vm._v("\n              "+_vm._s(user.full_name)+"\n            ")],1)],1),_c("UserTypeDisplay",{staticClass:"role-badge",style:{color:_vm.$themeTokens.textInverted,backgroundColor:_vm.$themeTokens.annotation},attrs:{"aria-hidden":"true",userType:user.kind,omitLearner:!0}})],1),_c("td",{staticClass:"visuallyhidden"},[_vm._v("\n          "+_vm._s(user.kind)+"\n        ")]),_c("td",[_c("span",{attrs:{dir:"auto"}},[_vm._v("\n            "+_vm._s(user.username)+"\n          ")])]),_vm.$scopedSlots.info?_c("td",[_vm._t("info",null,{user:user})],2):_vm._e(),_vm.$scopedSlots.action?_c("td",{staticClass:"core-table-button-col"},[_vm._t("action",null,{user:user})],2):_vm._e()])}),0)]),_vm.users.length?_vm._e():_c("p",{staticClass:"empty-message"},[_vm._v("\n    "+_vm._s(_vm.emptyMessage)+"\n  ")])],1)},[],!1,null,"78e2f210",null).exports,external_kolibriGlobal_coreVue_components_KModal_=__webpack_require__(4),external_kolibriGlobal_coreVue_components_KModal_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KModal_),external_kolibriGlobal_coreVue_components_KTextbox_=__webpack_require__(9),external_kolibriGlobal_coreVue_components_KTextbox_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KTextbox_),ClassRenameModal=normalizeComponent({name:"ClassRenameModal",components:{KModal:external_kolibriGlobal_coreVue_components_KModal_default.a,KTextbox:external_kolibriGlobal_coreVue_components_KTextbox_default.a},props:{classname:{type:String,required:!0},classid:{type:String,required:!0},classes:{type:Array,required:!0}},data:function(){return{name:this.classname,nameBlurred:!1,formSubmitted:!1,submitting:!1}},computed:{duplicateName:function(){var this$1=this;return this.name.toUpperCase()!==this.classname.toUpperCase()&&-1!==this.classes.findIndex(function(classroom){return classroom.name.toUpperCase()===this$1.name.toUpperCase()})},nameIsInvalidText:function(){if(this.nameBlurred||this.formSubmitted){if(""===this.name)return this.$tr("required");if(this.duplicateName)return this.$tr("duplicateName")}return""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)},formIsValid:function(){return!this.nameIsInvalid}},methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("classEditManagement",["updateClass"]),{updateName:function(){this.formSubmitted=!0,this.formIsValid?(this.submitting=!0,this.updateClass({id:this.classid,updateData:{name:this.name}})):this.$refs.name.focus()}}),$trs:{modalTitle:"Rename class",classname:"Class name",cancel:"Cancel",saveButtonLabel:"Save",duplicateName:"A class with that name already exists",required:"This field is required"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("modalTitle"),size:"small",submitText:_vm.$tr("saveButtonLabel"),cancelText:_vm.$tr("cancel"),submitDisabled:_vm.submitting},on:{submit:_vm.updateName,cancel:function($event){return _vm.$emit("cancel")}}},[_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.$tr("classname"),autofocus:!0,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText,maxlength:50},on:{blur:function($event){_vm.nameBlurred=!0}},model:{value:_vm.name,callback:function($$v){_vm.name="string"==typeof $$v?$$v.trim():$$v},expression:"name"}})],1)},[],!1,null,"20c91bec",null).exports,ClassEditPage_UserRemoveConfirmationModalvue_type_script_lang_js_={name:"UserRemoveConfirmationModal",components:{KModal:external_kolibriGlobal_coreVue_components_KModal_default.a},props:{classname:{type:String,required:!0},username:{type:String,required:!0}},$trs:{modalTitle:"Remove user",remove:"Remove",cancel:"Cancel",confirmation:"Are you sure you want to remove '{ username }' from '{ classname }'?",description:"You can still access this account from the 'Users' tab."}},views_ClassEditPagevue_type_script_lang_js_=(__webpack_require__(175),{name:"ClassEditPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{UserTable:UserTable,ClassRenameModal:ClassRenameModal,UserRemoveConfirmationModal:normalizeComponent(ClassEditPage_UserRemoveConfirmationModalvue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("modalTitle"),hasError:!1,submitText:_vm.$tr("remove"),cancelText:_vm.$tr("cancel")},on:{submit:function($event){return _vm.$emit("submit")},cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmation",{username:_vm.username,classname:_vm.classname})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("description")))])])},[],!1,null,"5a64a8ce",null).exports,KGrid:external_kolibriGlobal_coreVue_components_KGrid_default.a,KGridItem:external_kolibriGlobal_coreVue_components_KGridItem_default.a,KRouterLink:external_kolibriGlobal_coreVue_components_KRouterLink_default.a,KButton:external_kolibriGlobal_coreVue_components_KButton_default.a,KIcon:external_kolibriGlobal_coreVue_components_KIcon_default.a,KLabeledIcon:external_kolibriGlobal_coreVue_components_KLabeledIcon_default.a},data:function(){return{userToBeRemoved:null,removalAction:null}},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapState)("classEditManagement",["classCoaches","classLearners","classes","currentClass","modalShown"]),{Modals:function(){return constants.b},learnerEnrollmentLink:function(){return{name:constants.c.CLASS_ENROLL_LEARNER}},coachAssignmentLink:function(){return{name:constants.c.CLASS_ASSIGN_COACH}}}),methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("classEditManagement",["displayModal","removeClassLearner","removeClassCoach"]),{closeModal:function(){this.displayModal(!1)},confirmRemoval:function(user,removalAction){this.userToBeRemoved=user,this.removalAction=removalAction,this.displayModal(constants.b.REMOVE_USER)}}),$trs:{enrollLearnerButtonLabel:"Enroll learners",assignCoachesButtonLabel:"Assign coaches",coachEnrollmentPageTitle:"Manage class coaches and learners",coachTableTitle:"Coaches",learnerTableTitle:"Learners",noCoachesInClassMessge:"You don't have any assigned coaches",noLearnersInClassMessage:"You don't have any enrolled learners",remove:"Remove",noUsersExist:"No users in this class",edit:"Edit class name",documentTitle:"Edit Class",renameButtonLabel:"Edit"}}),ClassEditPage=(__webpack_require__(176),normalizeComponent(views_ClassEditPagevue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",[_c("h1",{staticClass:"title-header",attrs:{dir:"auto"}},[_c("KLabeledIcon",[_c("KIcon",{attrs:{slot:"icon",classroom:""},slot:"icon"}),_vm._v("\n        "+_vm._s(_vm.currentClass.name)+"\n      ")],1)],1),_c("KButton",{attrs:{text:_vm.$tr("renameButtonLabel"),appearance:"basic-link",primary:!0,ariaLabel:_vm.$tr("edit")},on:{click:function($event){return _vm.displayModal(_vm.Modals.EDIT_CLASS_NAME)}}})],1),_c("p",[_vm._v(_vm._s(_vm.$tr("coachEnrollmentPageTitle")))]),_vm.modalShown===_vm.Modals.EDIT_CLASS_NAME?_c("ClassRenameModal",{attrs:{classname:_vm.currentClass.name,classid:_vm.currentClass.id,classes:_vm.classes},on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.REMOVE_USER?_c("UserRemoveConfirmationModal",{attrs:{classname:_vm.currentClass.name,username:_vm.userToBeRemoved.username},on:{submit:function($event){return _vm.removalAction({classId:_vm.currentClass.id,userId:_vm.userToBeRemoved.id})},cancel:_vm.closeModal}}):_vm._e(),_c("KGrid",[_c("KGridItem",{attrs:{sizes:"100, 50, 50",percentage:""}},[_c("h2",[_vm._v(_vm._s(_vm.$tr("coachTableTitle")))])]),_c("KGridItem",{attrs:{sizes:"100, 50, 50",alignment:"right",percentage:""}},[_c("KRouterLink",{attrs:{text:_vm.$tr("assignCoachesButtonLabel"),to:_vm.coachAssignmentLink,appearance:"raised-button"}})],1)],1),_c("UserTable",{attrs:{users:_vm.classCoaches,emptyMessage:_vm.$tr("noCoachesInClassMessge"),isCoach:""},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_c("KButton",{attrs:{text:_vm.$tr("remove"),appearance:"flat-button"},on:{click:function($event){return _vm.confirmRemoval(userRow.user,_vm.removeClassCoach)}}})]}}])}),_c("KGrid",{staticClass:"top-margin"},[_c("KGridItem",{attrs:{sizes:"100, 50, 50",percentage:""}},[_c("h2",[_vm._v(_vm._s(_vm.$tr("learnerTableTitle")))])]),_c("KGridItem",{attrs:{sizes:"100, 50, 50",alignment:"right",percentage:""}},[_c("KRouterLink",{attrs:{text:_vm.$tr("enrollLearnerButtonLabel"),to:_vm.learnerEnrollmentLink,primary:!0,appearance:"raised-button"}})],1)],1),_c("UserTable",{attrs:{users:_vm.classLearners,emptyMessage:_vm.$tr("noLearnersInClassMessage")},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_c("KButton",{attrs:{text:_vm.$tr("remove"),appearance:"flat-button"},on:{click:function($event){return _vm.confirmRemoval(userRow.user,_vm.removeClassLearner)}}})]}}])})],1)},[],!1,null,"f4ab9b50",null).exports),differenceWith=__webpack_require__(112),differenceWith_default=__webpack_require__.n(differenceWith),external_kolibriGlobal_coreVue_mixins_responsiveWindow_=__webpack_require__(113),external_kolibriGlobal_coreVue_mixins_responsiveWindow_default=__webpack_require__.n(external_kolibriGlobal_coreVue_mixins_responsiveWindow_),external_kolibriGlobal_coreVue_components_UiIconButton_=__webpack_require__(57),external_kolibriGlobal_coreVue_components_UiIconButton_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_UiIconButton_),external_kolibriGlobal_coreVue_components_KFilterTextbox_=__webpack_require__(58),external_kolibriGlobal_coreVue_components_KFilterTextbox_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KFilterTextbox_),external_kolibriGlobal_utils_i18n_=__webpack_require__(114);function userMatchesFilter(user,searchFilter){var searchTerms=searchFilter.split(/\s+/).map(function(val){return val.toLowerCase()}),fullName=user.full_name.toLowerCase(),username=user.username.toLowerCase();return searchTerms.every(function(term){return fullName.includes(term)||username.includes(term)})}function filterAndSortUsers(users,pred,sortByKey){return void 0===pred&&(pred=function(){return!0}),void 0===sortByKey&&(sortByKey="full_name"),users.filter(pred).sort(function(a,b){return Object(external_kolibriGlobal_utils_i18n_.localeCompare)(a[sortByKey],b[sortByKey])})}var views_ClassEnrollFormvue_type_script_lang_js_={name:"ClassEnrollForm",components:{KButton:external_kolibriGlobal_coreVue_components_KButton_default.a,KIcon:external_kolibriGlobal_coreVue_components_KIcon_default.a,UiIconButton:external_kolibriGlobal_coreVue_components_UiIconButton_default.a,KFilterTextbox:external_kolibriGlobal_coreVue_components_KFilterTextbox_default.a,UserTable:UserTable},mixins:[external_kolibriGlobal_coreVue_mixins_responsiveWindow_default.a],props:{facilityUsers:{type:Array,required:!0},classUsers:{type:Array,required:!0}},data:function(){return{filterInput:"",perPage:10,pageNum:1,selectedUsers:[]}},computed:{usersNotInClass:function(){return differenceWith_default()(this.facilityUsers,this.classUsers,function(a,b){return a.id===b.id})},sortedFilteredUsers:function(){var this$1=this;return filterAndSortUsers(this.usersNotInClass,function(user){return userMatchesFilter(user,this$1.filterInput)})},numFilteredUsers:function(){return this.sortedFilteredUsers.length},numPages:function(){return Math.ceil(this.numFilteredUsers/this.perPage)},startRange:function(){return(this.pageNum-1)*this.perPage},visibleStartRange:function(){return Math.min(this.startRange+1,this.numFilteredUsers)},endRange:function(){return this.pageNum*this.perPage},visibleEndRange:function(){return Math.min(this.endRange,this.numFilteredUsers)},visibleFilteredUsers:function(){return this.sortedFilteredUsers.slice(this.startRange,this.endRange)},emptyMessage:function(){return 0===this.facilityUsers.length?this.$tr("noUsersExist"):0===this.usersNotInClass.length?this.$tr("allUsersAlready"):0===this.sortedFilteredUsers.length&&""!==this.filterInput?this.$tr("noUsersMatch")+": '"+this.filterInput+"'":""}},methods:{goToPage:function(page){this.pageNum=page}},$trs:{confirmSelectionButtonLabel:"Confirm",searchForUser:"Search for a user",userIconColumnHeader:"User Icon",name:"Full name",username:"Username",userTableLabel:"User List",role:"Role",noUsersExist:"No users exist",noUsersSelected:"No users are selected",noUsersMatch:"No users match",previousResults:"Previous results",nextResults:"Next results",selectAllOnPage:"Select all on page",allUsersAlready:"All users are already enrolled in this class",search:"Search",selectUser:"Select user",pagination:"{ visibleStartRange, number } - { visibleEndRange, number } of { numFilteredUsers, number }"}},ClassEnrollForm=(__webpack_require__(178),normalizeComponent(views_ClassEnrollFormvue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("form",{on:{submit:function($event){return $event.preventDefault(),_vm.$emit("submit",_vm.selectedUsers)}}},[_c("div",{staticClass:"actions-header"},[_c("KFilterTextbox",{attrs:{placeholder:_vm.$tr("searchForUser")},on:{input:function($event){_vm.pageNum=1}},model:{value:_vm.filterInput,callback:function($$v){_vm.filterInput="string"==typeof $$v?$$v.trim():$$v},expression:"filterInput"}})],1),_c("h2",[_vm._v(_vm._s(_vm.$tr("userTableLabel")))]),_c("UserTable",{attrs:{users:_vm.visibleFilteredUsers,selectable:!0,selectAllLabel:_vm.$tr("selectAllOnPage"),userCheckboxLabel:_vm.$tr("selectUser"),emptyMessage:_vm.emptyMessage},model:{value:_vm.selectedUsers,callback:function($$v){_vm.selectedUsers=$$v},expression:"selectedUsers"}}),_c("nav",[_c("span",{staticClass:"pagination-label",attrs:{dir:"auto"}},[_vm._v("\n      "+_vm._s(_vm.$tr("pagination",{visibleStartRange:_vm.visibleStartRange,visibleEndRange:_vm.visibleEndRange,numFilteredUsers:_vm.numFilteredUsers}))+"\n    ")]),_c("UiIconButton",{staticClass:"pagination-button",attrs:{type:"primary",ariaLabel:_vm.$tr("previousResults"),disabled:1===_vm.pageNum,size:"small"},on:{click:function($event){return _vm.goToPage(_vm.pageNum-1)}}},[_c("KIcon",{staticStyle:{position:"relative",top:"-1px"},attrs:{back:""}})],1),_c("UiIconButton",{staticClass:"pagination-button",attrs:{type:"primary",ariaLabel:_vm.$tr("nextResults"),disabled:0===_vm.pageNum||_vm.pageNum===_vm.numPages,size:"small"},on:{click:function($event){return _vm.goToPage(_vm.pageNum+1)}}},[_c("KIcon",{staticStyle:{position:"relative",top:"-1px"},attrs:{forward:""}})],1)],1),_c("div",{staticClass:"footer"},[_c("KButton",{attrs:{text:_vm.$tr("confirmSelectionButtonLabel"),primary:!0,type:"submit",disabled:0===_vm.selectedUsers.length}})],1)],1)},[],!1,null,"2f6ff2f8",null).exports),CoachClassAssignmentPage=normalizeComponent({name:"CoachClassAssignmentPage",metaInfo:function(){return{title:this.$tr("pageHeader",{className:this.className})}},components:{ClassEnrollForm:ClassEnrollForm},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapState)("classAssignMembers",["class","classUsers","facilityUsers"]),{className:function(){return this.class.name}}),methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("classAssignMembers",["assignCoachesToClass"]),{assignCoaches:function(coaches){var this$1=this;this.assignCoachesToClass({classId:this.class.id,coaches:coaches}).then(function(){this$1.$router.push({name:constants.c.CLASS_EDIT_MGMT_PAGE})})}}),$trs:{pageHeader:"Assign a coach to '{className}'",pageSubheader:"Showing coaches that are not assigned to this class"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader",{className:_vm.className})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("pageSubheader")))]),_c("ClassEnrollForm",{attrs:{facilityUsers:_vm.facilityUsers,classUsers:_vm.classUsers},on:{submit:_vm.assignCoaches}})],1)},[],!1,null,"6a91aca4",null).exports,LearnerClassEnrollmentPage=normalizeComponent({name:"LearnerClassEnrollmentPage",metaInfo:function(){return{title:this.$tr("pageHeader",{className:this.className})}},components:{ClassEnrollForm:ClassEnrollForm},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapState)("classAssignMembers",["class","facilityUsers","classUsers"]),{className:function(){return this.class.name}}),methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("classAssignMembers",["enrollLearnersInClass"]),{enrollLearners:function(selectedUsers){var this$1=this;this.enrollLearnersInClass({classId:this.class.id,users:selectedUsers}).then(function(){this$1.$router.push({name:constants.c.CLASS_EDIT_MGMT_PAGE})})}}),$trs:{pageHeader:"Enroll learners into '{className}'",pageSubheader:"Only showing learners that are not enrolled in this class"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader",{className:_vm.className})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("pageSubheader")))]),_c("ClassEnrollForm",{attrs:{facilityUsers:_vm.facilityUsers,classUsers:_vm.classUsers},on:{submit:_vm.enrollLearners}})],1)},[],!1,null,"311a00f0",null).exports,external_kolibriGlobal_utils_browser_=__webpack_require__(115),external_kolibriGlobal_urls_=__webpack_require__(11),external_kolibriGlobal_urls_default=__webpack_require__.n(external_kolibriGlobal_urls_),external_kolibriGlobal_utils_serverClock_=__webpack_require__(78),GeneratedElapsedTime=normalizeComponent({name:"GeneratedElapsedTime",props:{date:{type:Date,required:!0}},data:function(){return{now:Object(external_kolibriGlobal_utils_serverClock_.now)(),timer:null}},computed:{formatedTime:function(){return this.now-this.date<1e4?this.$tr("generatedMomentsAgo"):this.$tr("generatedInPast",{relativeTimeAgo:this.$formatRelative(this.date,{now:this.now})})}},mounted:function(){var this$1=this;this.timer=setInterval(function(){this$1.now=Object(external_kolibriGlobal_utils_serverClock_.now)()},6e4)},beforeDestroy:function(){clearInterval(this.timer)},$trs:{generatedMomentsAgo:"Generated moments ago.",generatedInPast:"Generated {relativeTimeAgo}."}},function(){var _h=this.$createElement;return(this._self._c||_h)("span",[this._v(" "+this._s(this.formatedTime)+" ")])},[],!1,null,"113d7464",null).exports,external_kolibriGlobal_coreVue_components_KCircularLoader_=__webpack_require__(116),DataPage_DataPageTaskProgressvue_type_script_lang_js_={name:"DataPageTaskProgress",components:{KCircularLoader:__webpack_require__.n(external_kolibriGlobal_coreVue_components_KCircularLoader_).a},$trs:{generatingLog:"Generating log file..."}},DataPageTaskProgress=(__webpack_require__(179),normalizeComponent(DataPage_DataPageTaskProgressvue_type_script_lang_js_,function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("div",{staticClass:"progress-wrapper"},[_c("KCircularLoader",{staticClass:"loader",attrs:{size:24}}),_c("span",{staticClass:"message"},[this._v(this._s(this.$tr("generatingLog")))])],1)},[],!1,null,"b688e844",null).exports),views_DataPagevue_type_script_lang_js_={name:"DataPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{GeneratedElapsedTime:GeneratedElapsedTime,KButton:external_kolibriGlobal_coreVue_components_KButton_default.a,KGrid:external_kolibriGlobal_coreVue_components_KGrid_default.a,KGridItem:external_kolibriGlobal_coreVue_components_KGridItem_default.a,DataPageTaskProgress:DataPageTaskProgress},mixins:[external_kolibriGlobal_coreVue_mixins_themeMixin_default.a],computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapGetters)("manageCSV",["inSessionCSVCreation","inSummaryCSVCreation","noSessionLogs","noSummaryLogs","availableSessionCSVLog","availableSummaryCSVLog"]),Object(external_kolibriGlobal_lib_vuex_.mapState)(["pageName"]),Object(external_kolibriGlobal_lib_vuex_.mapState)("manageCSV",["sessionDateCreated","summaryDateCreated"]),{cannotDownload:function(){return Object(external_kolibriGlobal_utils_browser_.isAndroidWebView)()},inDataExportPage:function(){return this.pageName===constants.c.DATA_EXPORT_PAGE},noDlStyle:function(){return{color:this.$themeTokens.annotation}}}),watch:{inDataExportPage:function(val){return val?this.startTaskPolling():this.stopTaskPolling()}},mounted:function(){this.inDataExportPage&&this.refreshTaskList()&&this.startTaskPolling()},destroyed:function(){this.stopTaskPolling()},methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("manageCSV",["startSummaryCSVExport","startSessionCSVExport","refreshTaskList","getExportedLogsInfo"]),{generateSessionLog:function(){this.startSessionCSVExport()},generateSummaryLog:function(){this.startSummaryCSVExport()},startTaskPolling:function(){this.getExportedLogsInfo(),this.intervalId||(this.intervalId=setInterval(this.refreshTaskList,1e3))},stopTaskPolling:function(){this.intervalId&&(this.intervalId=clearInterval(this.intervalId))},downloadSessionLog:function(){window.open(external_kolibriGlobal_urls_default.a["kolibri:core:download_csv_file"]("session"),"_blank")},downloadSummaryLog:function(){window.open(external_kolibriGlobal_urls_default.a["kolibri:core:download_csv_file"]("summary"),"_blank")}}),$trs:{pageHeading:"Export usage data",pageSubHeading:"Download CSV (comma-separated value) files containing information about users and their interactions with the content on this device",detailsHeading:"Session logs",detailsSubHeading:"Individual visits to each piece of content",summaryHeading:"Summary logs",summarySubHeading:"Total time/progress for each piece of content",detailsInfo:"When a user views content, we record how long they spend and the progress they make. Each row in this file records a single visit a user made to a specific piece of content. This includes anonymous usage, when no user is signed in.",summaryInfo:"A user may visit the same piece of content multiple times. This file records the total time and progress each user has achieved for each piece of content, summarized across possibly more than one visit. Anonymous usage is not included.",generateLog:"Generate log file",regenerateLog:"Generate a new log file",noLogsYet:"No logs are available to download.",download:"Download",note:"Note:",noDownload:"Download is not supported on Android",documentTitle:"Manage Data"}},DataPage=(__webpack_require__(180),normalizeComponent(views_DataPagevue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KGrid",{attrs:{gutter:48}},[_c("KGridItem",{attrs:{size:"100",percentage:""}},[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeading")))])]),_c("KGridItem",{attrs:{size:"100",percentage:""}},[_c("p",[_vm._v(_vm._s(_vm.$tr("pageSubHeading")))])]),_c("KGridItem",{attrs:{sizes:"100, 50, 50",percentage:""}},[_c("h2",[_vm._v(_vm._s(_vm.$tr("detailsHeading")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("detailsSubHeading")))]),_c("p",[_c("KButton",{staticClass:"download-button",attrs:{text:_vm.$tr("download"),disabled:!_vm.availableSessionCSVLog},on:{click:_vm.downloadSessionLog}})],1),_vm.cannotDownload?_c("p",{style:_vm.noDlStyle},[_vm._v("\n      "+_vm._s(_vm.$tr("noDownload"))+"\n    ")]):_vm.inSessionCSVCreation?_c("p",[_c("DataPageTaskProgress")],1):_c("p",[_vm.noSessionLogs?_c("span",[_vm._v(" "+_vm._s(_vm.$tr("noLogsYet"))+" ")]):_c("GeneratedElapsedTime",{attrs:{date:_vm.sessionDateCreated}}),_c("KButton",{attrs:{appearance:"basic-link",text:_vm.noSessionLogs?_vm.$tr("generateLog"):_vm.$tr("regenerateLog")},on:{click:_vm.generateSessionLog}})],1),_c("p",{staticClass:"infobox"},[_c("b",[_vm._v(_vm._s(_vm.$tr("note")))]),_vm._v(" "+_vm._s(_vm.$tr("detailsInfo"))+"\n    ")])]),_c("KGridItem",{attrs:{sizes:"100, 50, 50",percentage:""}},[_c("h2",[_vm._v(_vm._s(_vm.$tr("summaryHeading")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("summarySubHeading")))]),_c("p",[_c("KButton",{staticClass:"download-button",attrs:{text:_vm.$tr("download"),disabled:!_vm.availableSummaryCSVLog},on:{click:_vm.downloadSummaryLog}})],1),_vm.cannotDownload?_c("p",{style:_vm.noDlStyle},[_vm._v("\n      "+_vm._s(_vm.$tr("noDownload"))+"\n    ")]):_vm.inSummaryCSVCreation?_c("p",[_c("DataPageTaskProgress")],1):_c("p",[_vm.noSummaryLogs?_c("span",[_vm._v(" "+_vm._s(_vm.$tr("noLogsYet"))+" ")]):_c("GeneratedElapsedTime",{attrs:{date:_vm.summaryDateCreated}}),_c("KButton",{attrs:{appearance:"basic-link",text:_vm.noSummaryLogs?_vm.$tr("generateLog"):_vm.$tr("regenerateLog")},on:{click:_vm.generateSummaryLog}})],1),_c("p",{staticClass:"infobox"},[_c("b",[_vm._v(_vm._s(_vm.$tr("note")))]),_vm._v(" "+_vm._s(_vm.$tr("summaryInfo"))+"\n    ")])])],1)},[],!1,null,"5bc318cf",null).exports),camelCase=__webpack_require__(117),camelCase_default=__webpack_require__.n(camelCase),isEqual=__webpack_require__(118),isEqual_default=__webpack_require__.n(isEqual),ConfirmResetModal=normalizeComponent({name:"ConfirmResetModal",components:{KModal:external_kolibriGlobal_coreVue_components_KModal_default.a},$trs:{cancel:"Cancel",confirmationQuestion:"Are you sure you want to reset your settings?",reconfirmation:"Any custom changes will be lost.",reset:"Reset",title:"Reset to defaults"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),submitText:_vm.$tr("reset"),cancelText:_vm.$tr("cancel")},on:{submit:function($event){return _vm.$emit("submit")},cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmationQuestion")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("reconfirmation")))])])])},[],!1,null,"1a80b75c",null).exports,external_kolibriGlobal_coreVue_components_UiAlert_=__webpack_require__(119),ConfigPageNotifications=normalizeComponent({name:"ConfigPageNotifications",components:{UiAlert:__webpack_require__.n(external_kolibriGlobal_coreVue_components_UiAlert_).a},props:{notification:{type:String,required:!1}},computed:{notificationTypes:function(){return constants.f}},methods:{dismiss:function(){this.$emit("dismiss")}},$trs:{saveFailure:"There was a problem saving your settings",saveSuccess:"Facility settings updated",pageloadFailure:"There was a problem loading your settings"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.notification===_vm.notificationTypes.PAGELOAD_FAILURE?_c("UiAlert",{attrs:{type:"error"},on:{dismiss:function($event){return _vm.dismiss()}}},[_vm._v("\n    "+_vm._s(_vm.$tr("pageloadFailure"))+"\n  ")]):_vm._e(),_vm.notification===_vm.notificationTypes.SAVE_SUCCESS?_c("UiAlert",{attrs:{type:"success"},on:{dismiss:function($event){return _vm.dismiss()}}},[_vm._v("\n    "+_vm._s(_vm.$tr("saveSuccess"))+"\n  ")]):_vm._e(),_vm.notification===_vm.notificationTypes.SAVE_FAILURE?_c("UiAlert",{attrs:{type:"success"},on:{dismiss:function($event){return _vm.dismiss()}}},[_vm._v("\n    "+_vm._s(_vm.$tr("saveFailure"))+"\n  ")]):_vm._e()],1)},[],!1,null,null,null).exports,settingsList=["learner_can_edit_username","learner_can_edit_password","learner_can_edit_name","learner_can_sign_up","learner_can_login_with_no_password","show_download_button_in_learn","allow_guest_access"],views_FacilityConfigPagevue_type_script_lang_js_={name:"FacilityConfigPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{ConfirmResetModal:ConfirmResetModal,Notifications:ConfigPageNotifications,KCheckbox:external_kolibriGlobal_coreVue_components_KCheckbox_default.a,KButton:external_kolibriGlobal_coreVue_components_KButton_default.a},data:function(){return{showModal:!1,settingsCopy:{}}},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapState)("facilityConfig",["facilityName","settings","notification"]),{settingsList:function(){return settingsList},settingsHaveChanged:function(){return!isEqual_default()(this.settings,this.settingsCopy)}}),mounted:function(){this.copySettings()},methods:{camelCase:camelCase_default.a,toggleSetting:function(settingName){this.$store.commit("facilityConfig/CONFIG_PAGE_MODIFY_SETTING",{name:settingName,value:!this.settings[settingName]})},dismissNotification:function(){this.$store.commit("facilityConfig/CONFIG_PAGE_NOTIFY",null)},resetToDefaultSettings:function(){var this$1=this;this.showModal=!1,this.$store.dispatch("facilityConfig/resetFacilityConfig").then(function(){this$1.copySettings()})},saveConfig:function(){var this$1=this;this.$store.dispatch("facilityConfig/saveFacilityConfig").then(function(){this$1.copySettings()})},copySettings:function(){this.settingsCopy=Object.assign({},this.settings)}},$trs:{currentFacilityHeader:"Facility",learnerCanEditName:"Allow learners and coaches to edit their full name",learnerCanEditPassword:"Allow learners and coaches to change their password when signed in",learnerCanEditUsername:"Allow learners and coaches to edit their username",learnerCanSignUp:"Allow learners to create accounts",learnerCanLoginWithNoPassword:"Allow learners to sign in with no password",showDownloadButtonInLearn:"Show 'download' button with content",allowGuestAccess:"Allow users to access content without signing in",pageDescription:"Configure various settings",pageHeader:"Facility settings",resetToDefaultSettings:"Reset to defaults",saveChanges:"Save changes",documentTitle:"Configure Facility"}},FacilityConfigPage=(__webpack_require__(221),normalizeComponent(views_FacilityConfigPagevue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("Notifications",{attrs:{notification:_vm.notification},on:{dismiss:function($event){return _vm.dismissNotification()}}}),_c("div",{staticClass:"mb"},[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("pageDescription")))])]),null!==_vm.settings?[_c("div",{staticClass:"mb"},[_c("h2",[_vm._v(_vm._s(_vm.$tr("currentFacilityHeader")))]),_c("p",{staticClass:"current-facility-name"},[_vm._v("\n        "+_vm._s(_vm.facilityName)+"\n      ")])]),_c("div",{staticClass:"mb"},[_c("div",{staticClass:"settings"},[_vm._l(_vm.settingsList,function(setting){return[_c("KCheckbox",{key:setting,attrs:{label:_vm.$tr(_vm.camelCase(setting)),checked:_vm.settings[setting]},on:{change:function($event){return _vm.toggleSetting(setting)}}})]})],2),_c("div",[_c("KButton",{attrs:{primary:!1,appearance:"raised-button",text:_vm.$tr("resetToDefaultSettings"),name:"reset-settings"},on:{click:function($event){_vm.showModal=!0}}}),_c("KButton",{attrs:{primary:!0,appearance:"raised-button",text:_vm.$tr("saveChanges"),name:"save-settings",disabled:!_vm.settingsHaveChanged},on:{click:function($event){return _vm.saveConfig()}}})],1)])]:_vm._e(),_vm.showModal?_c("ConfirmResetModal",{attrs:{id:"confirm-reset"},on:{submit:_vm.resetToDefaultSettings,cancel:function($event){_vm.showModal=!1}}}):_vm._e()],2)},[],!1,null,"2aae3dce",null).exports),orderBy=__webpack_require__(120),orderBy_default=__webpack_require__.n(orderBy),external_kolibriGlobal_coreVue_components_KTooltip_=__webpack_require__(121),external_kolibriGlobal_coreVue_components_KTooltip_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KTooltip_),external_kolibriGlobal_coreVue_components_KEmptyPlaceholder_=__webpack_require__(122),external_kolibriGlobal_coreVue_components_KEmptyPlaceholder_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KEmptyPlaceholder_),ClassCreateModal=normalizeComponent({name:"ClassCreateModal",components:{KModal:external_kolibriGlobal_coreVue_components_KModal_default.a,KTextbox:external_kolibriGlobal_coreVue_components_KTextbox_default.a},props:{classes:{type:Array,required:!0}},data:function(){return{name:"",nameBlurred:!1,formSubmitted:!1,submitting:!1}},computed:{duplicateName:function(){var this$1=this;return-1!==this.classes.findIndex(function(classroom){return classroom.name.toUpperCase()===this$1.name.toUpperCase()})},nameIsInvalidText:function(){if(this.nameBlurred||this.formSubmitted){if(""===this.name)return this.$tr("required");if(this.duplicateName)return this.$tr("duplicateName")}return""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)},formIsValid:function(){return!this.nameIsInvalid}},methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("classManagement",["createClass"]),{createNewClass:function(){this.formSubmitted=!0,this.formIsValid?(this.submitting=!0,this.createClass(this.name)):this.$refs.name.focus()}}),$trs:{createNewClassHeader:"Create new class",classname:"Class name",cancel:"Cancel",saveClassButtonLabel:"Save",duplicateName:"A class with that name already exists",required:"This field is required"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("createNewClassHeader"),size:"small",submitText:_vm.$tr("saveClassButtonLabel"),cancelText:_vm.$tr("cancel"),submitDisabled:_vm.submitting},on:{submit:_vm.createNewClass,cancel:function($event){return _vm.$emit("cancel")}}},[_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.$tr("classname"),autofocus:!0,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText,maxlength:50},on:{blur:function($event){_vm.nameBlurred=!0}},model:{value:_vm.name,callback:function($$v){_vm.name="string"==typeof $$v?$$v.trim():$$v},expression:"name"}})],1)},[],!1,null,"eff4f804",null).exports,ManageClassPage_ClassDeleteModalvue_type_script_lang_js_={name:"ClassDeleteModal",components:{KModal:external_kolibriGlobal_coreVue_components_KModal_default.a},props:{classname:{type:String,required:!0},classid:{type:String,required:!0}},methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("classManagement",["deleteClass"]),{classDelete:function(){this.deleteClass(this.classid)}}),$trs:{modalTitle:"Delete class",deleteClassButtonLabel:"Delete",cancel:"Cancel",confirmation:"Are you sure you want to delete '{ classname }'?",description:"Enrolled users will be removed from the class but remain accessible from the 'Users' tab."}},ClassDeleteModal=(__webpack_require__(244),normalizeComponent(ManageClassPage_ClassDeleteModalvue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("modalTitle"),submitText:_vm.$tr("deleteClassButtonLabel"),cancelText:_vm.$tr("cancel"),hasError:!1},on:{submit:_vm.classDelete,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmation",{classname:_vm.classname})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("description")))])])},[],!1,null,"36e860c4",null).exports);var views_ManageClassPagevue_type_script_lang_js_={name:"ManageClassPage",metaInfo:function(){return{title:this.$tr("adminClassPageHeader")}},components:{CoreTable:external_kolibriGlobal_coreVue_components_CoreTable_default.a,ClassCreateModal:ClassCreateModal,ClassDeleteModal:ClassDeleteModal,KButton:external_kolibriGlobal_coreVue_components_KButton_default.a,KRouterLink:external_kolibriGlobal_coreVue_components_KRouterLink_default.a,KGrid:external_kolibriGlobal_coreVue_components_KGrid_default.a,KGridItem:external_kolibriGlobal_coreVue_components_KGridItem_default.a,KLabeledIcon:external_kolibriGlobal_coreVue_components_KLabeledIcon_default.a,KIcon:external_kolibriGlobal_coreVue_components_KIcon_default.a,KTooltip:external_kolibriGlobal_coreVue_components_KTooltip_default.a,KEmptyPlaceholder:external_kolibriGlobal_coreVue_components_KEmptyPlaceholder_default.a},data:function(){return{currentClassDelete:null}},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapState)("classManagement",["modalShown","classes"]),{noClassesExist:function(){return 0===this.classes.length},Modals:function(){return constants.b},sortedClassrooms:function(){return orderBy_default()(this.classes,[function(classroom){return classroom.name.toUpperCase()}],["asc"])}}),methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("classManagement",["displayModal"]),{closeModal:function(){this.displayModal(!1)},coachNames:function(classroom){return classroom.coaches.map(function(ref){return ref.full_name})},formattedCoachNames:function(classroom){var coach_names=this.coachNames(classroom);return 1===coach_names.length?coach_names[0]:2===coach_names.length?this.$tr("twoCoachNames",{name1:coach_names[0],name2:coach_names[1]}):this.$tr("manyCoachNames",{name1:coach_names[0],name2:coach_names[1],numRemaining:coach_names.length-2})},formattedCoachNamesTooltip:function(classroom){var coach_names=this.coachNames(classroom);return coach_names.length>2?coach_names.join("\n"):null},classEditLink:function(classId){return{name:constants.c.CLASS_EDIT_MGMT_PAGE,params:{id:classId}}},openDeleteClassModal:function(classModel){this.currentClassDelete=classModel,this.displayModal(constants.b.DELETE_CLASS)}}),$trs:{adminClassPageHeader:"Classes",adminClassPageSubheader:"View and manage your classes",addNew:"New class",deleteClass:"Delete class",className:"Class name",tableCaption:"List of classes",learnersColumnHeader:"Learners",coachesColumnHeader:"Coaches",twoCoachNames:"{name1}, {name2}",manyCoachNames:"{name1}, {name2}… (+{numRemaining, number})",actions:"Actions",noClassesExist:"No classes exist."}},ManageClassPage=(__webpack_require__(245),normalizeComponent(views_ManageClassPagevue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("KGrid",[_c("KGridItem",{attrs:{sizes:"100, 75, 75",percentage:""}},[_c("h1",[_vm._v(_vm._s(_vm.$tr("adminClassPageHeader")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("adminClassPageSubheader")))])]),_c("KGridItem",{attrs:{sizes:"100, 25, 25",percentage:"",alignment:"right"}},[_c("KButton",{staticClass:"move-down",attrs:{text:_vm.$tr("addNew"),primary:!0},on:{click:function($event){return _vm.displayModal(_vm.Modals.CREATE_CLASS)}}})],1)],1),_c("CoreTable",[_c("caption",{staticClass:"visuallyhidden"},[_vm._v("\n      "+_vm._s(_vm.$tr("tableCaption"))+"\n    ")]),_c("thead",{attrs:{slot:"thead"},slot:"thead"},[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("className")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("coachesColumnHeader")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("learnersColumnHeader")))]),_c("th",[_c("span",{staticClass:"visuallyhidden"},[_vm._v("\n            "+_vm._s(_vm.$tr("actions"))+"\n          ")])])])]),_c("transition-group",{attrs:{slot:"tbody",tag:"tbody",name:"list"},slot:"tbody"},_vm._l(_vm.sortedClassrooms,function(classroom){return _c("tr",{key:classroom.id},[_c("td",[_c("KLabeledIcon",[_c("KIcon",{attrs:{slot:"icon",classroom:""},slot:"icon"}),_c("KRouterLink",{attrs:{text:classroom.name,to:_vm.classEditLink(classroom.id)}})],1)],1),_c("td",[_c("span",{ref:"coachNames"+classroom.id,refInFor:!0},[_vm.coachNames(classroom).length?[_vm._v("\n              "+_vm._s(_vm.formattedCoachNames(classroom))+"\n            ")]:_c("KEmptyPlaceholder")],2),_vm.formattedCoachNamesTooltip(classroom)?_c("KTooltip",{attrs:{reference:"coachNames"+classroom.id,refs:_vm.$refs}},[_vm._v("\n            "+_vm._s(_vm.formattedCoachNamesTooltip(classroom))+"\n          ")]):_vm._e()],1),_c("td",[_vm._v("\n          "+_vm._s(classroom.learner_count)+"\n        ")]),_c("td",{staticClass:"core-table-button-col"},[_c("KButton",{attrs:{appearance:"flat-button",text:_vm.$tr("deleteClass")},on:{click:function($event){return _vm.openDeleteClassModal(classroom)}}})],1)])}),0)],1),_vm.noClassesExist?_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("noClassesExist"))+"\n  ")]):_vm._e(),_vm.modalShown===_vm.Modals.DELETE_CLASS?_c("ClassDeleteModal",{attrs:{classid:_vm.currentClassDelete.id,classname:_vm.currentClassDelete.name},on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.CREATE_CLASS?_c("ClassCreateModal",{attrs:{classes:_vm.sortedClassrooms},on:{cancel:_vm.closeModal}}):_vm._e()],1)},[],!1,null,"54823181",null).exports),external_kolibriGlobal_coreVue_components_KNavbar_=__webpack_require__(123),external_kolibriGlobal_coreVue_components_KNavbar_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KNavbar_),external_kolibriGlobal_coreVue_components_KNavbarLink_=__webpack_require__(124),external_kolibriGlobal_coreVue_components_KNavbarLink_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KNavbarLink_),FacilityTopNav=normalizeComponent({name:"FacilityTopNav",components:{KNavbar:external_kolibriGlobal_coreVue_components_KNavbar_default.a,KNavbarLink:external_kolibriGlobal_coreVue_components_KNavbarLink_default.a},computed:{PageNames:function(){return constants.c}},methods:{linkify:function(name){return{name:name}}},$trs:{classes:"Classes",data:"Data",settings:"Settings",users:"Users"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KNavbar",[_c("KNavbarLink",{attrs:{title:_vm.$tr("classes"),link:_vm.linkify(_vm.PageNames.CLASS_MGMT_PAGE)}},[_c("svg",{attrs:{role:"presentation",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"}})])]),_c("KNavbarLink",{attrs:{title:_vm.$tr("users"),link:_vm.linkify(_vm.PageNames.USER_MGMT_PAGE)}},[_c("svg",{attrs:{role:"presentation",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}})])]),_c("KNavbarLink",{attrs:{title:_vm.$tr("settings"),link:_vm.linkify(_vm.PageNames.FACILITY_CONFIG_PAGE)}},[_c("svg",{attrs:{role:"presentation",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65A.488.488 0 0 0 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"}})])]),_c("KNavbarLink",{attrs:{title:_vm.$tr("data"),link:_vm.linkify(_vm.PageNames.DATA_EXPORT_PAGE)}},[_c("svg",{attrs:{role:"presentation",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}})])])],1)},[],!1,null,"44ddda70",null).exports,external_kolibriGlobal_coreVue_vuex_constants_=__webpack_require__(1),external_kolibriGlobal_coreVue_components_KDropdownMenu_=__webpack_require__(125),external_kolibriGlobal_coreVue_components_KDropdownMenu_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KDropdownMenu_),external_kolibriGlobal_coreVue_components_KSelect_=__webpack_require__(23),external_kolibriGlobal_coreVue_components_KSelect_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KSelect_),external_kolibriGlobal_utils_validators_=__webpack_require__(59),external_kolibriGlobal_utils_CatchErrors_=__webpack_require__(60),external_kolibriGlobal_utils_CatchErrors_default=__webpack_require__.n(external_kolibriGlobal_utils_CatchErrors_),external_kolibriGlobal_coreVue_components_KRadioButton_=__webpack_require__(61),external_kolibriGlobal_coreVue_components_KRadioButton_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KRadioButton_),UserPage_UserCreateModalvue_type_script_lang_js_={name:"UserCreateModal",components:{KRadioButton:external_kolibriGlobal_coreVue_components_KRadioButton_default.a,KModal:external_kolibriGlobal_coreVue_components_KModal_default.a,KTextbox:external_kolibriGlobal_coreVue_components_KTextbox_default.a,KSelect:external_kolibriGlobal_coreVue_components_KSelect_default.a},data:function(){return{fullName:"",username:"",password:"",confirmedPassword:"",kind:{label:this.$tr("learner"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},classCoach:!0,usernameAlreadyExistsOnServer:!1,submitting:!1,nameBlurred:!1,usernameBlurred:!1,passwordBlurred:!1,confirmedPasswordBlurred:!1,formSubmitted:!1}},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapGetters)(["currentFacilityId"]),Object(external_kolibriGlobal_lib_vuex_.mapState)("userManagement",["facilityUsers"]),{newUserRole:function(){return this.coachIsSelected?this.classCoach?external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH:this.kind.value},coachIsSelected:function(){return this.kind.value===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH},nameIsInvalidText:function(){return(this.nameBlurred||this.formSubmitted)&&""===this.fullName?this.$tr("required"):""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)},usernameAlreadyExists:function(){var this$1=this;return this.facilityUsers.find(function(ref){return ref.username.toLowerCase()===this$1.username.toLowerCase()})},usernameIsInvalidText:function(){if(this.usernameBlurred||this.formSubmitted){if(""===this.username)return this.$tr("required");if(!Object(external_kolibriGlobal_utils_validators_.validateUsername)(this.username))return this.$tr("usernameNotAlphaNumUnderscore");if(this.usernameAlreadyExists||this.usernameAlreadyExistsError)return this.$tr("usernameAlreadyExists")}return""},usernameIsInvalid:function(){return Boolean(this.usernameIsInvalidText)},passwordIsInvalidText:function(){return(this.passwordBlurred||this.formSubmitted)&&""===this.password?this.$tr("required"):""},passwordIsInvalid:function(){return Boolean(this.passwordIsInvalidText)},confirmedPasswordIsInvalidText:function(){if(this.confirmedPasswordBlurred||this.formSubmitted){if(""===this.confirmedPassword)return this.$tr("required");if(this.confirmedPassword!==this.password)return this.$tr("pwMismatchError")}return""},confirmedPasswordIsInvalid:function(){return Boolean(this.confirmedPasswordIsInvalidText)},formIsValid:function(){return!(this.nameIsInvalid||this.usernameIsInvalid||this.passwordIsInvalid||this.confirmedPasswordIsInvalid)},userKindDropdownOptions:function(){return[{label:this.$tr("learner"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},{label:this.$tr("coach"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH},{label:this.$tr("admin"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ADMIN}]}}),methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("userManagement",["createUser"]),Object(external_kolibriGlobal_lib_vuex_.mapActions)(["handleApiError"]),{createNewUser:function(){var this$1=this;this.usernameAlreadyExistsOnServer=!1,this.formSubmitted=!0,this.formIsValid?(this.submitting=!0,this.createUser({username:this.username,full_name:this.fullName,role:{kind:this.newUserRole,collection:this.currentFacilityId},password:this.password}).then(function(){this$1.$emit("cancel")},function(error){external_kolibriGlobal_utils_CatchErrors_default()(error,[external_kolibriGlobal_coreVue_vuex_constants_.ERROR_CONSTANTS.USERNAME_ALREADY_EXISTS])?(this$1.submitting=!1,this$1.usernameAlreadyExistsOnServer=!0):this$1.handleApiError(error)})):this.focusOnInvalidField()},focusOnInvalidField:function(){this.nameIsInvalid?this.$refs.name.focus():this.usernameIsInvalid?this.$refs.username.focus():this.passwordIsInvalid?this.$refs.password.focus():this.confirmedPasswordIsInvalid&&this.$refs.confirmedPassword.focus()}}),$trs:{createNewUserHeader:"Create new user",cancel:"Cancel",name:"Full name",username:"Username",password:"Password",reEnterPassword:"Re-enter password",userType:"User type",saveUserButtonLabel:"Save",learner:"Learner",coach:"Coach",admin:"Admin",coachSelectorHeader:"Coach type",classCoachLabel:"Class coach",classCoachDescription:"Can only instruct classes that they're assigned to",facilityCoachLabel:"Facility coach",facilityCoachDescription:"Can instruct all classes in your facility",usernameAlreadyExists:"Username already exists",usernameNotAlphaNumUnderscore:"Username can only contain letters, numbers, and underscores",pwMismatchError:"Passwords do not match",unknownError:"Whoops, something went wrong. Try again",loadingConfirmation:"Loading...",required:"This field is required"}},UserCreateModal=(__webpack_require__(246),normalizeComponent(UserPage_UserCreateModalvue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("createNewUserHeader"),submitText:_vm.$tr("saveUserButtonLabel"),cancelText:_vm.$tr("cancel"),submitDisabled:_vm.submitting},on:{submit:_vm.createNewUser,cancel:function($event){return _vm.$emit("cancel")}}},[_c("section",[_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.$tr("name"),autofocus:!0,maxlength:120,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText},on:{blur:function($event){_vm.nameBlurred=!0}},model:{value:_vm.fullName,callback:function($$v){_vm.fullName="string"==typeof $$v?$$v.trim():$$v},expression:"fullName"}}),_c("KTextbox",{ref:"username",attrs:{type:"text",label:_vm.$tr("username"),maxlength:30,invalid:_vm.usernameIsInvalid,invalidText:_vm.usernameIsInvalidText},on:{blur:function($event){_vm.usernameBlurred=!0}},model:{value:_vm.username,callback:function($$v){_vm.username=$$v},expression:"username"}}),_c("KTextbox",{ref:"password",attrs:{type:"password",label:_vm.$tr("password"),invalid:_vm.passwordIsInvalid,invalidText:_vm.passwordIsInvalidText},on:{blur:function($event){_vm.passwordBlurred=!0}},model:{value:_vm.password,callback:function($$v){_vm.password=$$v},expression:"password"}}),_c("KTextbox",{ref:"confirmedPassword",attrs:{type:"password",label:_vm.$tr("reEnterPassword"),invalid:_vm.confirmedPasswordIsInvalid,invalidText:_vm.confirmedPasswordIsInvalidText},on:{blur:function($event){_vm.confirmedPasswordBlurred=!0}},model:{value:_vm.confirmedPassword,callback:function($$v){_vm.confirmedPassword=$$v},expression:"confirmedPassword"}}),_c("KSelect",{attrs:{label:_vm.$tr("userType"),options:_vm.userKindDropdownOptions},model:{value:_vm.kind,callback:function($$v){_vm.kind=$$v},expression:"kind"}}),_vm.coachIsSelected?_c("fieldset",{staticClass:"coach-selector"},[_c("KRadioButton",{attrs:{label:_vm.$tr("classCoachLabel"),description:_vm.$tr("classCoachDescription"),value:!0},model:{value:_vm.classCoach,callback:function($$v){_vm.classCoach=$$v},expression:"classCoach"}}),_c("KRadioButton",{attrs:{label:_vm.$tr("facilityCoachLabel"),description:_vm.$tr("facilityCoachDescription"),value:!1},model:{value:_vm.classCoach,callback:function($$v){_vm.classCoach=$$v},expression:"classCoach"}})],1):_vm._e()],1)])},[],!1,null,"8dcf87d4",null).exports),external_kolibriGlobal_coreVue_components_KExternalLink_=__webpack_require__(126),external_kolibriGlobal_coreVue_components_KExternalLink_default=__webpack_require__.n(external_kolibriGlobal_coreVue_components_KExternalLink_),UserPage_EditUserModalvue_type_script_lang_js_={name:"EditUserModal",components:{KModal:external_kolibriGlobal_coreVue_components_KModal_default.a,KTextbox:external_kolibriGlobal_coreVue_components_KTextbox_default.a,KSelect:external_kolibriGlobal_coreVue_components_KSelect_default.a,KRadioButton:external_kolibriGlobal_coreVue_components_KRadioButton_default.a,KExternalLink:external_kolibriGlobal_coreVue_components_KExternalLink_default.a,UserTypeDisplay:external_kolibriGlobal_coreVue_components_UserTypeDisplay_default.a},props:{id:{type:String,required:!0},name:{type:String,required:!0},username:{type:String,required:!0},kind:{type:String,required:!0}},data:function(){return{newName:this.name,newUsername:this.username,classCoachIsSelected:!0,typeSelected:null,nameBlurred:!1,usernameBlurred:!1}},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapGetters)(["currentFacilityId","currentUserId"]),Object(external_kolibriGlobal_lib_vuex_.mapState)("userManagement",["facilityUsers","error","isBusy"]),{coachIsSelected:function(){return this.typeSelected.value===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH},userTypeOptions:function(){return[{label:this.$tr("learner"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},{label:this.$tr("coach"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH},{label:this.$tr("admin"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ADMIN}]},nameIsInvalidText:function(){return this.nameBlurred&&""===this.newName?this.$tr("required"):""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)},usernameAlreadyExists:function(){var this$1=this;return this.username.toLowerCase()!==this.newUsername.toLowerCase()&&(!(!this.error||!this.error.includes(external_kolibriGlobal_coreVue_vuex_constants_.ERROR_CONSTANTS.USERNAME_ALREADY_EXISTS))||this.facilityUsers.find(function(ref){return ref.username.toLowerCase()===this$1.newUsername.toLowerCase()}))},usernameIsInvalidText:function(){if(this.usernameBlurred){if(""===this.newUsername)return this.$tr("required");if(this.usernameAlreadyExists)return this.$tr("usernameAlreadyExists");if(!Object(external_kolibriGlobal_utils_validators_.validateUsername)(this.newUsername))return this.$tr("usernameNotAlphaNumUnderscore")}return""},usernameIsInvalid:function(){return Boolean(this.usernameIsInvalidText)},formIsInvalid:function(){return this.nameIsInvalid||this.usernameIsInvalid},editingSelf:function(){return this.currentUserId===this.id},editingSuperAdmin:function(){return this.kind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER},devicePermissionsPageLink:function(){var devicePageUrl=external_kolibriGlobal_urls_default.a["kolibri:devicemanagementplugin:device_management"];return devicePageUrl?devicePageUrl()+"#/permissions/"+this.id:""},newType:function(){return this.editingSuperAdmin?"":this.typeSelected.value===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH?this.classCoachIsSelected?external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH:this.typeSelected.value}}),beforeMount:function(){var this$1=this,coachOption=this.userTypeOptions[1];this.kind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH?(this.typeSelected=coachOption,this.classCoachIsSelected=!0):this.kind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH?(this.typeSelected=coachOption,this.classCoachIsSelected=!1):this.typeSelected=this.userTypeOptions.find(function(kind){return kind.value===this$1.kind})||{}},methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("userManagement",["updateUser","setError"]),Object(external_kolibriGlobal_lib_vuex_.mapActions)(["kolibriLogout"]),{submitForm:function(){var this$1=this;if(this.formIsInvalid)this.nameIsInvalid?this.$refs.name.focus():this.usernameIsInvalid&&this.$refs.username.focus();else{var updates={username:this.newUsername,full_name:this.newName};this.newType&&(updates.role={collection:this.currentFacilityId,kind:this.newType}),this.updateUser({userId:this.id,updates:updates}).then(function(){this$1.editingSelf&&this$1.newType&&this$1.newType!==external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ADMIN&&this$1.kolibriLogout(),this$1.$emit("cancel")})}}}),$trs:{editUserDetailsHeader:"Edit user details",fullName:"Full name",username:"Username",userType:"User type",admin:"Admin",coach:"Coach",learner:"Learner",save:"Save",cancel:"Cancel",required:"This field is required",usernameAlreadyExists:"Username already exists",changeInDeviceTabPrompt:"Go to Device permissions to change this",viewInDeviceTabPrompt:"View details in Device permissions",usernameNotAlphaNumUnderscore:"Username can only contain letters, numbers, and underscores",classCoachLabel:"Class coach",classCoachDescription:"Can only instruct classes that they're assigned to",facilityCoachLabel:"Facility coach",facilityCoachDescription:"Can instruct all classes in your facility"}},EditUserModal=(__webpack_require__(247),normalizeComponent(UserPage_EditUserModalvue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("editUserDetailsHeader"),submitText:_vm.$tr("save"),cancelText:_vm.$tr("cancel"),submitDisabled:_vm.isBusy},on:{submit:_vm.submitForm,cancel:function($event){return _vm.$emit("cancel")}}},[_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.$tr("fullName"),autofocus:!0,maxlength:120,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText},on:{blur:function($event){_vm.nameBlurred=!0}},model:{value:_vm.newName,callback:function($$v){_vm.newName=$$v},expression:"newName"}}),_c("KTextbox",{ref:"username",attrs:{type:"text",label:_vm.$tr("username"),maxlength:30,invalid:_vm.usernameIsInvalid,invalidText:_vm.usernameIsInvalidText},on:{blur:function($event){_vm.usernameBlurred=!0},input:function($event){return _vm.setError(null)}},model:{value:_vm.newUsername,callback:function($$v){_vm.newUsername=$$v},expression:"newUsername"}}),_vm.editingSuperAdmin?[_c("h2",{staticClass:"user-type header"},[_vm._v("\n      "+_vm._s(_vm.$tr("userType"))+"\n    ")]),_c("UserTypeDisplay",{staticClass:"user-type",attrs:{userType:_vm.kind}}),_vm.devicePermissionsPageLink?_c("KExternalLink",{staticClass:"super-admin-description",attrs:{text:_vm.editingSelf?_vm.$tr("viewInDeviceTabPrompt"):_vm.$tr("changeInDeviceTabPrompt"),href:_vm.devicePermissionsPageLink}}):_vm._e()]:[_c("KSelect",{attrs:{label:_vm.$tr("userType"),options:_vm.userTypeOptions},model:{value:_vm.typeSelected,callback:function($$v){_vm.typeSelected=$$v},expression:"typeSelected"}}),_vm.coachIsSelected?_c("fieldset",{staticClass:"coach-selector"},[_c("KRadioButton",{attrs:{label:_vm.$tr("classCoachLabel"),description:_vm.$tr("classCoachDescription"),value:!0},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}}),_c("KRadioButton",{attrs:{label:_vm.$tr("facilityCoachLabel"),description:_vm.$tr("facilityCoachDescription"),value:!1},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}})],1):_vm._e()]],2)},[],!1,null,"e30e3a9a",null).exports),ResetUserPasswordModal=normalizeComponent({name:"ResetUserPasswordModal",components:{KModal:external_kolibriGlobal_coreVue_components_KModal_default.a,KTextbox:external_kolibriGlobal_coreVue_components_KTextbox_default.a},props:{id:{type:String,required:!0},username:{type:String,required:!0}},data:function(){return{password:"",confirmedPassword:"",passwordBlurred:!1,confirmedPasswordBlurred:!1,submittedForm:!1}},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapState)("userManagement",["isBusy"]),{passwordIsInvalidText:function(){return(this.passwordBlurred||this.submittedForm)&&""===this.password?this.$tr("required"):""},passwordIsInvalid:function(){return Boolean(this.passwordIsInvalidText)},confirmedPasswordIsInvalidText:function(){if(this.confirmedPasswordBlurred||this.submittedForm){if(""===this.confirmedPassword)return this.$tr("required");if(this.confirmedPassword!==this.password)return this.$tr("passwordMatchError")}return""},confirmedPasswordIsInvalid:function(){return Boolean(this.confirmedPasswordIsInvalidText)},formIsValid:function(){return!this.passwordIsInvalid&&!this.confirmedPasswordIsInvalid}}),methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)(["handleApiError"]),Object(external_kolibriGlobal_lib_vuex_.mapActions)("userManagement",["updateFacilityUser"]),{submitForm:function(){var this$1=this;this.submittedForm=!0,this.formIsValid?this.updateFacilityUser({userId:this.id,updates:{password:this.password}}).catch(function(error){return this$1.handleApiError(error)}).then(function(){return this$1.$emit("cancel")}):this.passwordIsInvalid?this.$refs.password.focus():this.confirmedPasswordIsInvalid&&this.$refs.confirmedPassword.focus()}}),$trs:{resetPassword:"Reset user password",username:"Username: ",newPassword:"New password",confirmNewPassword:"Confirm new password",passwordMatchError:"Passwords do not match",required:"This field is required",cancel:"cancel",save:"Save"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("resetPassword"),submitText:_vm.$tr("save"),cancelText:_vm.$tr("cancel"),submitDisabled:_vm.isBusy},on:{submit:_vm.submitForm,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("username"))),_c("strong",[_vm._v(_vm._s(_vm.username))])]),_c("KTextbox",{ref:"password",attrs:{type:"password",label:_vm.$tr("newPassword"),autofocus:!0,invalid:_vm.passwordIsInvalid,invalidText:_vm.passwordIsInvalidText},on:{blur:function($event){_vm.passwordBlurred=!0}},model:{value:_vm.password,callback:function($$v){_vm.password=$$v},expression:"password"}}),_c("KTextbox",{ref:"confirmedPassword",attrs:{type:"password",label:_vm.$tr("confirmNewPassword"),invalid:_vm.confirmedPasswordIsInvalid,invalidText:_vm.confirmedPasswordIsInvalidText},on:{blur:function($event){_vm.confirmedPasswordBlurred=!0}},model:{value:_vm.confirmedPassword,callback:function($$v){_vm.confirmedPassword=$$v},expression:"confirmedPassword"}})],1)},[],!1,null,"188bb373",null).exports,DeleteUserModal=normalizeComponent({name:"DeleteUserModal",components:{KModal:external_kolibriGlobal_coreVue_components_KModal_default.a},props:{id:{type:String,required:!0},username:{type:String,required:!0}},data:function(){return{submitting:!1}},methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("userManagement",["deleteUser"]),{handleDeleteUser:function(){this.submitting=!0,this.deleteUser(this.id)}}),$trs:{deleteUser:"Delete user",confirmation:"Are you sure you want to delete the user '{ username }'?",warning:"All data and logs for this user will be lost.",cancel:"Cancel",delete:"Delete"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("deleteUser"),submitText:_vm.$tr("delete"),cancelText:_vm.$tr("cancel"),submitDisabled:_vm.submitting},on:{submit:_vm.handleDeleteUser,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmation",{username:_vm.username})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("warning",{username:_vm.username})))])])},[],!1,null,"195f2fa8",null).exports,views_UserPagevue_type_script_lang_js_={name:"UserPage",metaInfo:function(){return{title:this.$tr("userPageTitle")}},components:{UserCreateModal:UserCreateModal,EditUserModal:EditUserModal,ResetUserPasswordModal:ResetUserPasswordModal,DeleteUserModal:DeleteUserModal,KButton:external_kolibriGlobal_coreVue_components_KButton_default.a,KFilterTextbox:external_kolibriGlobal_coreVue_components_KFilterTextbox_default.a,KDropdownMenu:external_kolibriGlobal_coreVue_components_KDropdownMenu_default.a,KIcon:external_kolibriGlobal_coreVue_components_KIcon_default.a,KSelect:external_kolibriGlobal_coreVue_components_KSelect_default.a,KGrid:external_kolibriGlobal_coreVue_components_KGrid_default.a,KGridItem:external_kolibriGlobal_coreVue_components_KGridItem_default.a,UserTable:UserTable,UiIconButton:external_kolibriGlobal_coreVue_components_UiIconButton_default.a},data:function(){return{searchFilter:"",roleFilter:null,selectedUser:null,perPage:10,pageNum:1}},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapGetters)(["currentUserId","isSuperuser"]),Object(external_kolibriGlobal_lib_vuex_.mapState)("userManagement",["facilityUsers","modalShown"]),{Modals:function(){return constants.b},userKinds:function(){return[{label:this.$tr("allUsers"),value:"all"},{label:this.$tr("learners"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},{label:this.$tr("coaches"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH},{label:this.$tr("admins"),value:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ADMIN}]},sortedFilteredUsers:function(){var this$1=this;return filterAndSortUsers(this.facilityUsers,function(user){return userMatchesFilter(user,this$1.searchFilter)&&this$1.userMatchesRole(user)})},visibleUsers:function(){return this.sortedFilteredUsers.slice(this.startRange,this.endRange)},emptyMessage:function(){return 0===this.facilityUsers.length?this.$tr("noUsersExist"):0===this.visibleUsers.length?this.$tr("allUsersFilteredOut"):""},numPages:function(){return Math.ceil(this.numFilteredUsers/this.perPage)},startRange:function(){return(this.pageNum-1)*this.perPage},visibleStartRange:function(){return Math.min(this.startRange+1,this.numFilteredUsers)},endRange:function(){return this.pageNum*this.perPage},visibleEndRange:function(){return Math.min(this.endRange,this.numFilteredUsers)},numFilteredUsers:function(){return this.sortedFilteredUsers.length}}),watch:{searchFilter:function(){this.pageNum=1}},beforeMount:function(){this.roleFilter=this.userKinds[0]},methods:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapActions)("userManagement",["displayModal"]),{closeModal:function(){this.displayModal(!1)},userMatchesRole:function(user){var filterKind=this.roleFilter.value;return"all"===filterKind||(user.kind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH?filterKind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH:filterKind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ADMIN?user.kind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ADMIN||user.kind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER:filterKind===user.kind)},manageUserOptions:function(userId){return[{label:this.$tr("editUser"),value:constants.b.EDIT_USER},{label:this.$tr("resetUserPassword"),value:constants.b.RESET_USER_PASSWORD},{label:this.$tr("deleteUser"),value:constants.b.DELETE_USER,disabled:userId===this.currentUserId}]},goToPage:function(page){this.pageNum=page},handleManageUserSelection:function(selection,user){this.selectedUser=user,this.displayModal(selection.value)},userCanBeEdited:function(user){return this.isSuperuser||!user.is_superuser}}),$trs:{filterUserType:"User type",searchText:"Search for a user…",allUsers:"All",admins:"Admins",coaches:"Coaches",learners:"Learners",newUserButtonLabel:"New User",userCountLabel:"{userCount} users",fullName:"Full name",users:"Users",role:"Role",username:"Username",edit:"Edit",noUsersExist:"No users exist",allUsersFilteredOut:"No users match the filter",optionsButtonLabel:"Options",editUser:"Edit details",resetUserPassword:"Reset password",deleteUser:"Delete",userActions:"User management actions",userPageTitle:"Users",pagination:"{ visibleStartRange, number } - { visibleEndRange, number } of { numFilteredUsers, number }",previousResults:"Previous results",nextResults:"Next results"}},UserPage=(__webpack_require__(248),normalizeComponent(views_UserPagevue_type_script_lang_js_,function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("KGrid",[_c("KGridItem",{attrs:{sizes:"100, 50, 50",percentage:""}},[_c("h1",[_vm._v(_vm._s(_vm.$tr("users")))])]),_c("KGridItem",{attrs:{sizes:"100, 50, 50",percentage:"",align:"right"}},[_c("KButton",{staticClass:"move-down",attrs:{text:_vm.$tr("newUserButtonLabel"),primary:!0},on:{click:function($event){return _vm.displayModal(_vm.Modals.CREATE_USER)}}})],1),_c("KGridItem",{attrs:{sizes:"3, 3, 3"}},[_c("KSelect",{staticClass:"type-filter",attrs:{label:_vm.$tr("filterUserType"),options:_vm.userKinds,inline:!0},model:{value:_vm.roleFilter,callback:function($$v){_vm.roleFilter=$$v},expression:"roleFilter"}})],1),_c("KGridItem",{attrs:{sizes:"4, 5, 5"}},[_c("KFilterTextbox",{staticClass:"user-filter",attrs:{placeholder:_vm.$tr("searchText")},model:{value:_vm.searchFilter,callback:function($$v){_vm.searchFilter=$$v},expression:"searchFilter"}})],1)],1),_c("UserTable",{staticClass:"user-roster move-down",attrs:{users:_vm.visibleUsers,emptyMessage:_vm.emptyMessage},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_c("KDropdownMenu",{attrs:{text:_vm.$tr("optionsButtonLabel"),options:_vm.manageUserOptions(userRow.user.id),disabled:!_vm.userCanBeEdited(userRow.user),appearance:"flat-button"},on:{select:function($event){return _vm.handleManageUserSelection($event,userRow.user)}}})]}}])}),_c("nav",[_c("span",{attrs:{dir:"auto"}},[_vm._v("\n      "+_vm._s(_vm.$tr("pagination",{visibleStartRange:_vm.visibleStartRange,visibleEndRange:_vm.visibleEndRange,numFilteredUsers:_vm.numFilteredUsers}))+"\n    ")]),_c("UiIconButton",{staticClass:"pagination-button",attrs:{type:"primary",ariaLabel:_vm.$tr("previousResults"),disabled:1===_vm.pageNum,size:"small"},on:{click:function($event){return _vm.goToPage(_vm.pageNum-1)}}},[_c("KIcon",{staticStyle:{position:"relative",top:"-1px"},attrs:{back:""}})],1),_c("UiIconButton",{staticClass:"pagination-button",attrs:{type:"primary",ariaLabel:_vm.$tr("nextResults"),disabled:0===_vm.pageNum||_vm.pageNum===_vm.numPages,size:"small"},on:{click:function($event){return _vm.goToPage(_vm.pageNum+1)}}},[_c("KIcon",{staticStyle:{position:"relative",top:"-1px"},attrs:{forward:""}})],1)],1),_vm.modalShown===_vm.Modals.CREATE_USER?_c("UserCreateModal",{on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.EDIT_USER?_c("EditUserModal",{attrs:{id:_vm.selectedUser.id,name:_vm.selectedUser.full_name,username:_vm.selectedUser.username,kind:_vm.selectedUser.kind},on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.RESET_USER_PASSWORD?_c("ResetUserPasswordModal",{attrs:{id:_vm.selectedUser.id,username:_vm.selectedUser.username},on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.DELETE_USER?_c("DeleteUserModal",{attrs:{id:_vm.selectedUser.id,username:_vm.selectedUser.username},on:{cancel:_vm.closeModal}}):_vm._e()],1)},[],!1,null,"da0ccd26",null).exports),classEnrollmentPages=[constants.c.CLASS_ENROLL_LEARNER,constants.c.CLASS_ASSIGN_COACH],pageNameComponentMap={};pageNameComponentMap[constants.c.CLASS_EDIT_MGMT_PAGE]=ClassEditPage,pageNameComponentMap[constants.c.CLASS_MGMT_PAGE]=ManageClassPage,pageNameComponentMap[constants.c.CLASS_ENROLL_LEARNER]=LearnerClassEnrollmentPage,pageNameComponentMap[constants.c.CLASS_ASSIGN_COACH]=CoachClassAssignmentPage,pageNameComponentMap[constants.c.DATA_EXPORT_PAGE]=DataPage,pageNameComponentMap[constants.c.FACILITY_CONFIG_PAGE]=FacilityConfigPage,pageNameComponentMap[constants.c.USER_MGMT_PAGE]=UserPage;var FacilityIndex=normalizeComponent({name:"FacilityIndex",components:{CoreBase:external_kolibriGlobal_coreVue_components_CoreBase_default.a,FacilityTopNav:FacilityTopNav,KPageContainer:external_kolibriGlobal_coreVue_components_KPageContainer_default.a},computed:Object.assign({},Object(external_kolibriGlobal_lib_vuex_.mapGetters)(["isAdmin","isSuperuser"]),Object(external_kolibriGlobal_lib_vuex_.mapState)(["pageName"]),{isEnrollmentPage:function(){return classEnrollmentPages.includes(this.pageName)},currentPage:function(){return pageNameComponentMap[this.pageName]||null},userIsAuthorized:function(){return this.isAdmin||this.isSuperuser},appBarTitle:function(){return this.isEnrollmentPage?this.$tr("detailPageReturnPrompt"):this.$tr("facilityTitle")},appBarBackLink:function(){return this.isEnrollmentPage?{name:constants.c.CLASS_EDIT_MGMT_PAGE}:null},isImmersive:function(){return this.isEnrollmentPage}}),$trs:{facilityTitle:"Facility",adminOrSuperuser:"You must be signed in as an admin or super admin to view this page",detailPageReturnPrompt:"Class details"}},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("CoreBase",{attrs:{appBarTitle:_vm.appBarTitle,immersivePage:_vm.isImmersive,immersivePageIcon:"arrow_back",immersivePageRoute:_vm.appBarBackLink,immersivePagePrimary:!0,authorized:_vm.userIsAuthorized,authorizationErrorDetails:_vm.$tr("adminOrSuperuser"),showSubNav:_vm.userIsAuthorized&&!_vm.isEnrollmentPage}},[_c("FacilityTopNav",{attrs:{slot:"sub-nav"},slot:"sub-nav"}),_c("KPageContainer",[_c(_vm.currentPage,{tag:"component"})],1)],1)},[],!1,null,"4f35bd07",null).exports,external_kolibriGlobal_coreVue_vuex_store_=__webpack_require__(7),external_kolibriGlobal_coreVue_vuex_store_default=__webpack_require__.n(external_kolibriGlobal_coreVue_vuex_store_),external_kolibriGlobal_lib_conditionalPromise_=__webpack_require__(31),external_kolibriGlobal_lib_conditionalPromise_default=__webpack_require__.n(external_kolibriGlobal_lib_conditionalPromise_),external_kolibriGlobal_utils_samePageCheckGenerator_=__webpack_require__(12),external_kolibriGlobal_utils_samePageCheckGenerator_default=__webpack_require__.n(external_kolibriGlobal_utils_samePageCheckGenerator_),external_kolibriGlobal_resources_=__webpack_require__(3),external_kolibriGlobal_utils_UserType_=__webpack_require__(127),external_kolibriGlobal_utils_UserType_default=__webpack_require__.n(external_kolibriGlobal_utils_UserType_);function _userState(facilityUser){return{id:facilityUser.id,facility_id:facilityUser.facility,username:facilityUser.username,full_name:facilityUser.full_name,kind:external_kolibriGlobal_utils_UserType_default()(facilityUser),is_superuser:facilityUser.is_superuser,roles:facilityUser.roles}}var routes=[{name:constants.c.CLASS_MGMT_PAGE,path:"/classes",handler:function(){!function(store){store.dispatch("preparePage",{name:constants.c.CLASS_MGMT_PAGE});var facilityId=store.getters.currentFacilityId;external_kolibriGlobal_resources_.ClassroomResource.fetchCollection({getParams:{parent:facilityId},force:!0}).only(external_kolibriGlobal_utils_samePageCheckGenerator_default()(store),function(classrooms){store.commit("classManagement/SET_STATE",{modalShown:!1,classes:[].concat(classrooms)}),store.commit("CORE_SET_PAGE_LOADING",!1)},function(error){store.dispatch("handleApiError",error)})}(external_kolibriGlobal_coreVue_vuex_store_default.a)}},{name:constants.c.CLASS_EDIT_MGMT_PAGE,path:"/classes/:id",handler:function(toRoute){!function(store,classId){store.dispatch("preparePage",{name:constants.c.CLASS_EDIT_MGMT_PAGE});var facilityId=store.getters.currentFacilityId,promises=[external_kolibriGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:classId},force:!0}),external_kolibriGlobal_resources_.ClassroomResource.fetchModel({id:classId,force:!0}),external_kolibriGlobal_resources_.ClassroomResource.fetchCollection({getParams:{parent:facilityId},force:!0})];external_kolibriGlobal_lib_conditionalPromise_default.a.all(promises).only(external_kolibriGlobal_utils_samePageCheckGenerator_default()(store),function(ref){var facilityUsers=ref[0],classroom=ref[1],classrooms=ref[2];store.commit("classEditManagement/SET_STATE",{modalShown:!1,currentClass:classroom,classes:classrooms,classLearners:filterAndSortUsers(facilityUsers).map(_userState),classCoaches:filterAndSortUsers(classroom.coaches).map(_userState)}),store.commit("CORE_SET_PAGE_LOADING",!1)},function(error){store.dispatch("handleApiError",error)})}(external_kolibriGlobal_coreVue_vuex_store_default.a,toRoute.params.id)}},{name:constants.c.CLASS_ENROLL_LEARNER,path:"/classes/:id/learner-enrollment/",handler:function(toRoute){!function(store,classId){store.commit("CORE_SET_PAGE_LOADING",!0);var facilityId=store.getters.currentFacilityId,userPromise=external_kolibriGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:facilityId}}),classPromise=external_kolibriGlobal_resources_.ClassroomResource.fetchModel({id:classId}),classUsersPromise=external_kolibriGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:classId},force:!0});external_kolibriGlobal_lib_conditionalPromise_default.a.all([userPromise,classPromise,classUsersPromise]).only(external_kolibriGlobal_utils_samePageCheckGenerator_default()(store),function(ref){var facilityUsers=ref[0],classroom=ref[1],classUsers=ref[2];store.commit("classAssignMembers/SET_STATE",{facilityUsers:facilityUsers.map(_userState),classUsers:classUsers.map(_userState),class:classroom,modalShown:!1}),store.commit("CORE_SET_PAGE_LOADING",!1),store.commit("SET_PAGE_NAME",constants.c.CLASS_ENROLL_LEARNER)},function(error){store.dispatch("handleApiError",error)})}(external_kolibriGlobal_coreVue_vuex_store_default.a,toRoute.params.id)}},{name:constants.c.CLASS_ASSIGN_COACH,path:"/classes/:id/coach-assignment/",handler:function(toRoute){!function(store,classId){store.commit("CORE_SET_PAGE_LOADING",!0);var facilityId=store.getters.currentFacilityId,userPromise=external_kolibriGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:facilityId}}),classPromise=external_kolibriGlobal_resources_.ClassroomResource.fetchModel({id:classId,force:!0});external_kolibriGlobal_lib_conditionalPromise_default.a.all([userPromise,classPromise]).only(external_kolibriGlobal_utils_samePageCheckGenerator_default()(store),function(ref){var facilityUsers=ref[0],classroom=ref[1];store.commit("classAssignMembers/SET_STATE",{facilityUsers:facilityUsers.filter(function(user){var eligibleRoles=[external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH,external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH,external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ADMIN,external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER];return user.roles.some(function(ref){var kind=ref.kind;return eligibleRoles.includes(kind)})}).map(_userState),classUsers:classroom.coaches.map(_userState),class:classroom,modalShown:!1}),store.commit("CORE_SET_PAGE_LOADING",!1),store.commit("SET_PAGE_NAME",constants.c.CLASS_ASSIGN_COACH)},function(error){store.dispatch("handleApiError",error)})}(external_kolibriGlobal_coreVue_vuex_store_default.a,toRoute.params.id)}},{name:constants.c.USER_MGMT_PAGE,path:"/users",handler:function(){!function(store){store.dispatch("preparePage",{name:constants.c.USER_MGMT_PAGE});var facilityId=store.getters.currentFacilityId;external_kolibriGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:facilityId},force:!0}).only(external_kolibriGlobal_utils_samePageCheckGenerator_default()(store),function(users){store.commit("userManagement/SET_STATE",{facilityUsers:users.map(_userState),modalShown:!1,error:"",isBusy:!1}),store.commit("CORE_SET_PAGE_LOADING",!1)},function(error){store.dispatch("handleApiError",error)})}(external_kolibriGlobal_coreVue_vuex_store_default.a)}},{name:constants.c.DATA_EXPORT_PAGE,path:"/data",handler:function(){external_kolibriGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{name:constants.c.DATA_EXPORT_PAGE,isAsync:!1})}},{name:constants.c.FACILITY_CONFIG_PAGE,path:"/settings",handler:function(){!function(store){var FACILITY_ID=store.state.core.session.facility_id;store.dispatch("preparePage",{name:constants.c.FACILITY_CONFIG_PAGE});var resourceRequests=[external_kolibriGlobal_resources_.FacilityResource.fetchModel({id:FACILITY_ID}),external_kolibriGlobal_resources_.FacilityDatasetResource.fetchCollection({getParams:{facility_id:FACILITY_ID}})];Promise.all(resourceRequests).then(function(ref){var facility=ref[0],dataset=ref[1][0];store.commit("facilityConfig/SET_STATE",{facilityDatasetId:dataset.id,facilityName:facility.name,settings:Object.assign({},dataset),settingsCopy:Object.assign({},dataset),notification:null}),store.commit("CORE_SET_PAGE_LOADING",!1)}).catch(function(){store.commit("facilityConfig/SET_STATE",{facilityName:"",settings:null,notification:constants.f.PAGELOAD_FAILURE}),store.commit("CORE_SET_PAGE_LOADING",!1)})}(external_kolibriGlobal_coreVue_vuex_store_default.a)}},{path:"/",redirect:"/classes"}];function SET_MODAL(state,modalName){state.modalShown=modalName}function SET_BUSY(state,isBusy){state.isBusy=isBusy}function SET_ERROR(state,error){state.error=error}function displayModal(store,modalName){store.commit("SET_MODAL",modalName),store.commit("SET_ERROR",""),store.commit("SET_BUSY",!1)}var uniq=__webpack_require__(79),uniq_default=__webpack_require__.n(uniq);var classAssignMembers={namespaced:!0,state:{class:{},classUsers:[],facilityUsers:[],modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{class:{},classUsers:[],facilityUsers:[],modalShown:!1})},SET_MODAL:SET_MODAL},actions:{assignCoachesToClass:function(store,ref){var classId=ref.classId,coaches=ref.coaches;return external_kolibriGlobal_resources_.RoleResource.saveCollection({getParams:{collection:classId},data:uniq_default()(coaches).map(function(userId){return{collection:classId,user:userId,kind:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH}})}).catch(function(err){store.dispatch("handleApiError",err,{root:!0})})},enrollLearnersInClass:function(store,ref){var classId=ref.classId,users=ref.users;return external_kolibriGlobal_resources_.MembershipResource.saveCollection({getParams:{collection:classId},data:uniq_default()(users).map(function(userId){return{collection:classId,user:userId}})}).catch(function(err){store.dispatch("handleApiError",err,{root:!0})})}}};var classEditManagement={namespaced:!0,state:{classCoaches:[],classLearners:[],classes:[],currentClass:null,error:"",isBusy:!1,modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{classCoaches:[],classLearners:[],classes:[],currentClass:null,error:"",isBusy:!1,modalShown:!1})},SET_BUSY:SET_BUSY,SET_ERROR:SET_ERROR,SET_MODAL:SET_MODAL,UPDATE_CLASS:function(state,ref){var id=ref.id,updatedClass=ref.updatedClass;state.classes.forEach(function(classModel,index,arr){classModel.id===id&&(arr[index]=updatedClass)}),state.currentClass&&state.currentClass.id===id&&(state.currentClass=updatedClass)},DELETE_CLASS_LEARNER:function(state,id){state.classLearners=state.classLearners.filter(function(user){return user.id!==id})},DELETE_CLASS_COACH:function(state,id){state.classCoaches=state.classCoaches.filter(function(user){return user.id!==id})}},actions:{displayModal:displayModal,removeClassLearner:function(store,ref){var classId=ref.classId,userId=ref.userId;if(classId&&userId)return external_kolibriGlobal_resources_.MembershipResource.deleteCollection({user:userId,collection:classId}).then(function(){store.commit("DELETE_CLASS_LEARNER",userId),store.dispatch("displayModal",!1)},function(error){store.dispatch("handleApiError",error,{root:!0})})},removeClassCoach:function(store,ref){var classId=ref.classId,userId=ref.userId;if(classId&&userId)return external_kolibriGlobal_resources_.RoleResource.deleteCollection({user:userId,collection:classId}).then(function(){store.commit("DELETE_CLASS_COACH",userId),store.dispatch("displayModal",!1)},function(error){store.dispatch("handleApiError",error,{root:!0})})},updateClass:function(store,ref){var id=ref.id,updateData=ref.updateData;if(id&&0!==Object.keys(updateData).length)return external_kolibriGlobal_resources_.ClassroomResource.saveModel({id:id,data:updateData}).then(function(updatedClass){store.commit("UPDATE_CLASS",{id:id,updatedClass:updatedClass}),store.dispatch("displayModal",!1)},function(error){store.dispatch("handleApiError",error,{root:!0})})}}};var classManagement={namespaced:!0,state:{classes:[],error:"",isBusy:!1,modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{classes:[],error:"",isBusy:!1,modalShown:!1})},SET_BUSY:SET_BUSY,SET_ERROR:SET_ERROR,SET_MODAL:SET_MODAL,ADD_CLASS:function(state,classroom){state.classes.push(classroom)},DELETE_CLASS:function(state,id){state.classes=state.classes.filter(function(classModel){return classModel.id!==id})}},actions:{createClass:function(store,name){external_kolibriGlobal_resources_.ClassroomResource.saveModel({data:{name:name,parent:store.rootState.core.session.facility_id}}).then(function(classroom){store.commit("ADD_CLASS",classroom),store.dispatch("displayModal",!1)},function(error){store.dispatch("handleApiError",error,{root:!0})})},deleteClass:function(store,id){if(id)return external_kolibriGlobal_resources_.ClassroomResource.deleteModel({id:id}).then(function(){store.commit("DELETE_CLASS",id),store.dispatch("displayModal",!1)},function(error){store.dispatch("handleApiError",error,{root:!0})})},displayModal:displayModal}};function saveFacilityConfig(store){store.commit("CONFIG_PAGE_NOTIFY",null);var ref=store.state,facilityDatasetId=ref.facilityDatasetId,settings=ref.settings,resourceRequests=[external_kolibriGlobal_resources_.FacilityDatasetResource.saveModel({id:facilityDatasetId,data:settings})];return Promise.all(resourceRequests).then(function(){store.commit("CONFIG_PAGE_NOTIFY",constants.f.SAVE_SUCCESS),store.commit("CONFIG_PAGE_COPY_SETTINGS")}).catch(function(){store.commit("CONFIG_PAGE_NOTIFY",constants.f.SAVE_FAILURE),store.commit("CONFIG_PAGE_UNDO_SETTINGS_CHANGE")})}var facilityConfig={namespaced:!0,state:{facilityDatasetId:"",facilityName:"",notification:null,settings:{},settingsCopy:{}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{facilityDatasetId:"",facilityName:"",notification:null,settings:{},settingsCopy:{}})},CONFIG_PAGE_NOTIFY:function(state,notificationType){state.notification=notificationType},CONFIG_PAGE_UNDO_SETTINGS_CHANGE:function(state){state.settings=Object.assign({},state.settingsCopy)},CONFIG_PAGE_MODIFY_SETTING:function(state,ref){var name=ref.name,value=ref.value;void 0!==state.settings[name]&&(state.settings[name]=value)},CONFIG_PAGE_MODIFY_ALL_SETTINGS:function(state,settings){state.settings=Object.assign({},state.settings,settings)},CONFIG_PAGE_COPY_SETTINGS:function(state){state.settingsCopy=Object.assign({},state.settings)}},actions:{saveFacilityConfig:saveFacilityConfig,resetFacilityConfig:function(store){return store.commit("CONFIG_PAGE_MODIFY_ALL_SETTINGS",{learner_can_edit_username:!0,learner_can_edit_name:!0,learner_can_edit_password:!0,learner_can_sign_up:!0,learner_can_delete_account:!0,learner_can_login_with_no_password:!1,show_download_button_in_learn:!1,allow_guest_access:!0}),saveFacilityConfig(store)}}},external_kolibriGlobal_lib_vue_=__webpack_require__(17),external_kolibriGlobal_lib_vue_default=__webpack_require__.n(external_kolibriGlobal_lib_vue_),pickBy=__webpack_require__(128),pickBy_default=__webpack_require__.n(pickBy),find=__webpack_require__(129),find_default=__webpack_require__.n(find),map=__webpack_require__(130),map_default=__webpack_require__.n(map),filter=__webpack_require__(32),filter_default=__webpack_require__.n(filter),FACILITY_ROLES=[external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ADMIN,external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH,external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH];function setUserRole(user,role){return function(facilityUser,newRoleKind){var roles=facilityUser.roles,facility=facilityUser.facility,id=facilityUser.id,currentFacilityRole=find_default()(roles,{collection:facility}),createFacilityRole=function(){return external_kolibriGlobal_resources_.RoleResource.saveModel({data:{user:id,collection:facility,kind:newRoleKind}})};if(!currentFacilityRole)return newRoleKind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.LEARNER?Promise.resolve():createFacilityRole();if(currentFacilityRole.kind===newRoleKind)return Promise.resolve();if(newRoleKind===external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.LEARNER){var roleDeletionPromises=[external_kolibriGlobal_resources_.RoleResource.deleteModel({id:currentFacilityRole.id}),map_default()(filter_default()(roles,{collection_parent:facility,kind:external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.COACH}),function(role){return external_kolibriGlobal_resources_.RoleResource.deleteModel({id:role.id})})];return Promise.all(roleDeletionPromises)}return FACILITY_ROLES.includes(newRoleKind)?createFacilityRole().then(function(){return external_kolibriGlobal_resources_.RoleResource.deleteModel({id:currentFacilityRole.id})}):void 0}(user,role.kind).then(function(){return external_kolibriGlobal_resources_.FacilityUserResource.fetchModel({id:user.id,force:!0})})}function createUser(store,stateUserData){return external_kolibriGlobal_resources_.FacilityUserResource.saveModel({data:{facility:store.rootState.core.session.facility_id,username:stateUserData.username,full_name:stateUserData.full_name,password:stateUserData.password}}).then(function(userModel){function dispatchUser(newUser){var userState=_userState(newUser);return store.commit("ADD_USER",userState),store.dispatch("displayModal",!1),userState}return stateUserData.role.kind!==external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.LEARNER?setUserRole(userModel,stateUserData.role).then(function(user){return dispatchUser(user)}):dispatchUser(userModel)}).catch(function(error){return store.dispatch("handleApiError",error,{root:!0})})}function updateUser(store,ref){var userId=ref.userId,updates=ref.updates;setError(store,null),store.commit("SET_BUSY",!0);var origUserState=store.state.facilityUsers.find(function(user){return user.id===userId}),facilityRoleHasChanged=updates.role&&origUserState.kind!==updates.role.kind;return updateFacilityUser(store,{userId:userId,updates:updates}).then(function(updatedUser){var update=function(userData){return store.commit("UPDATE_USER",_userState(userData))};if(facilityRoleHasChanged)return store.rootGetters.currentUserId===userId&&store.rootGetters.isSuperuser&&store.commit("UPDATE_CURRENT_USER_KIND",[external_kolibriGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER,updates.role.kind],{root:!0}),setUserRole(updatedUser,updates.role).then(function(userWithRole){update(userWithRole)});update(updatedUser)}).catch(function(error){store.commit("SET_BUSY",!1);var errorsCaught=external_kolibriGlobal_utils_CatchErrors_default()(error,[external_kolibriGlobal_coreVue_vuex_constants_.ERROR_CONSTANTS.USERNAME_ALREADY_EXISTS]);errorsCaught?setError(store,errorsCaught):store.dispatch("handleApiError",error,{root:!0})})}function setError(store,error){store.commit("SET_ERROR",error)}function updateFacilityUser(store,ref){var userId=ref.userId,updates=ref.updates,origUserState=store.state.facilityUsers.find(function(user){return user.id===userId}),changedValues=pickBy_default()(updates,function(value,key){return updates[key]&&updates[key]!==origUserState[key]});return Object.keys(changedValues).length>0?external_kolibriGlobal_resources_.FacilityUserResource.saveModel({id:userId,data:changedValues}):Promise.resolve(Object.assign({},origUserState,{facility:origUserState.facility_id}))}function deleteUser(store,id){id&&external_kolibriGlobal_resources_.FacilityUserResource.deleteModel({id:id}).then(function(){store.commit("DELETE_USER",id),store.dispatch("displayModal",!1),store.rootState.core.session.user_id===id&&store.dispatch("kolibriLogout",{root:!0})},function(error){store.dispatch("handleApiError",error,{root:!0})})}var userManagement={namespaced:!0,state:{error:"",facilityUsers:[],isBusy:!1,modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{error:"",facilityUsers:[],isBusy:!1,modalShown:!1})},SET_ERROR:SET_ERROR,SET_MODAL:SET_MODAL,SET_BUSY:SET_BUSY,ADD_USER:function(state,user){state.facilityUsers.push(user)},DELETE_USER:function(state,id){state.facilityUsers=state.facilityUsers.filter(function(user){return user.id!==id})},UPDATE_USER:function(state,updatedUser){var match=state.facilityUsers.find(function(user){return user.id===updatedUser.id});match&&(external_kolibriGlobal_lib_vue_default.a.set(match,"username",updatedUser.username),external_kolibriGlobal_lib_vue_default.a.set(match,"full_name",updatedUser.full_name),external_kolibriGlobal_lib_vue_default.a.set(match,"kind",updatedUser.kind),external_kolibriGlobal_lib_vue_default.a.set(match,"roles",[].concat(updatedUser.roles)))}},actions:Object.assign({displayModal:displayModal},userManagement_actions_namespaceObject)},actions=__webpack_require__(131);function manageCSV_defaultState(){return{summaryLogStatus:constants.a.NO_LOGS_CREATED,summaryTaskId:"",summaryDateCreated:null,sessionLogStatus:constants.a.NO_LOGS_CREATED,sessionTaskId:"",sessionDateCreated:null}}var pluginModule={state:{pageName:""},mutations:{SET_PAGE_NAME:function(state,name){state.pageName=name},UPDATE_CURRENT_USER_KIND:function(state,newKind){state.core.session.kind=newKind}},actions:{preparePage:function(store,ref){var name=ref.name,isAsync=ref.isAsync;void 0===isAsync&&(isAsync=!0),store.commit("CORE_SET_PAGE_LOADING",isAsync),store.commit("SET_PAGE_NAME",name),store.commit("CORE_SET_ERROR",null)},resetModuleState:function(store,ref){var fromRoute=ref.fromRoute,moduleName=constants.g[fromRoute.name];if(moduleName)return store.commit(moduleName+"/RESET_STATE")}},modules:{classManagement:classManagement,classEditManagement:classEditManagement,classAssignMembers:classAssignMembers,userManagement:userManagement,facilityConfig:facilityConfig,manageCSV:{namespaced:!0,state:manageCSV_defaultState(),getters:{inSummaryCSVCreation:function(state){return state.summaryLogStatus===constants.a.GENERATING},inSessionCSVCreation:function(state){return state.sessionLogStatus===constants.a.GENERATING},noSummaryLogs:function(state){return state.summaryLogStatus===constants.a.NO_LOGS_CREATED},noSessionLogs:function(state){return state.sessionLogStatus===constants.a.NO_LOGS_CREATED},summaryTaskId:function(state){return state.summaryTaskId},sessionTaskId:function(state){return state.sessionTaskId},availableSessionCSVLog:function(state){return state.sessionLogStatus===constants.a.AVAILABLE},availableSummaryCSVLog:function(state){return state.summaryLogStatus===constants.a.AVAILABLE}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,manageCSV_defaultState())},START_SUMMARY_CSV_EXPORT:function(state,payload){state.summaryLogStatus=constants.a.GENERATING,state.summaryTaskId=payload},START_SESSION_CSV_EXPORT:function(state,payload){state.sessionLogStatus=constants.a.GENERATING,state.sessionTaskId=payload},SET_FINISHED_SUMMARY_CSV_CREATION:function(state,payload){state.summaryLogStatus=constants.a.AVAILABLE,state.summaryTaskId="",state.summaryDateCreated=payload},SET_FINISHED_SESSION_CSV_CREATION:function(state,payload){state.sessionLogStatus=constants.a.AVAILABLE,state.sessionTaskId="",state.sessionDateCreated=payload}},actions:actions.a}}},app_FacilityManagementModule=function(KolibriApp){function FacilityManagementModule(){KolibriApp.apply(this,arguments)}KolibriApp&&(FacilityManagementModule.__proto__=KolibriApp),FacilityManagementModule.prototype=Object.create(KolibriApp&&KolibriApp.prototype),FacilityManagementModule.prototype.constructor=FacilityManagementModule;var prototypeAccessors={routes:{configurable:!0},RootVue:{configurable:!0},pluginModule:{configurable:!0}};return prototypeAccessors.routes.get=function(){return routes},prototypeAccessors.RootVue.get=function(){return FacilityIndex},prototypeAccessors.pluginModule.get=function(){return pluginModule},FacilityManagementModule.prototype.ready=function(){var this$1=this;return KolibriApp.prototype.ready.call(this).then(function(){external_kolibriGlobal_coreVue_router_default.a.afterEach(function(toRoute,fromRoute){this$1.store.dispatch("resetModuleState",{toRoute:toRoute,fromRoute:fromRoute})})})},Object.defineProperties(FacilityManagementModule.prototype,prototypeAccessors),FacilityManagementModule}(__webpack_require__(133).a);__webpack_exports__.default=new app_FacilityManagementModule}]);
//# sourceMappingURL=facility_management_module-0.12.8.js.map